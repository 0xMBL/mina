/*! For license information please see snarkyjs_chrome.js.LICENSE.txt */
(()=>{var t={151:()=>{},660:()=>{var t;!function(t){!function(e){var n="object"==typeof global?global:"object"==typeof self?self:"object"==typeof this?this:Function("return this;")(),r=i(t);function i(t,e){return function(n,r){"function"!=typeof t[n]&&Object.defineProperty(t,n,{configurable:!0,writable:!0,value:r}),e&&e(n,r)}}void 0===n.Reflect?n.Reflect=t:r=i(n.Reflect,r),function(t){var e=Object.prototype.hasOwnProperty,n="function"==typeof Symbol,r=n&&void 0!==Symbol.toPrimitive?Symbol.toPrimitive:"@@toPrimitive",i=n&&void 0!==Symbol.iterator?Symbol.iterator:"@@iterator",o="function"==typeof Object.create,s={__proto__:[]}instanceof Array,u=!o&&!s,a={create:o?function(){return B(Object.create(null))}:s?function(){return B({__proto__:null})}:function(){return B({})},has:u?function(t,n){return e.call(t,n)}:function(t,e){return e in t},get:u?function(t,n){return e.call(t,n)?t[n]:void 0}:function(t,e){return t[e]}},c=Object.getPrototypeOf(Function),l="object"==typeof process&&process.env&&"true"===process.env.REFLECT_METADATA_USE_MAP_POLYFILL,f=l||"function"!=typeof Map||"function"!=typeof Map.prototype.entries?function(){var t={},e=[],n=function(){function t(t,e,n){this._index=0,this._keys=t,this._values=e,this._selector=n}return t.prototype["@@iterator"]=function(){return this},t.prototype[i]=function(){return this},t.prototype.next=function(){var t=this._index;if(t>=0&&t<this._keys.length){var n=this._selector(this._keys[t],this._values[t]);return t+1>=this._keys.length?(this._index=-1,this._keys=e,this._values=e):this._index++,{value:n,done:!1}}return{value:void 0,done:!0}},t.prototype.throw=function(t){throw this._index>=0&&(this._index=-1,this._keys=e,this._values=e),t},t.prototype.return=function(t){return this._index>=0&&(this._index=-1,this._keys=e,this._values=e),{value:t,done:!0}},t}();return function(){function e(){this._keys=[],this._values=[],this._cacheKey=t,this._cacheIndex=-2}return Object.defineProperty(e.prototype,"size",{get:function(){return this._keys.length},enumerable:!0,configurable:!0}),e.prototype.has=function(t){return this._find(t,!1)>=0},e.prototype.get=function(t){var e=this._find(t,!1);return e>=0?this._values[e]:void 0},e.prototype.set=function(t,e){var n=this._find(t,!0);return this._values[n]=e,this},e.prototype.delete=function(e){var n=this._find(e,!1);if(n>=0){for(var r=this._keys.length,i=n+1;i<r;i++)this._keys[i-1]=this._keys[i],this._values[i-1]=this._values[i];return this._keys.length--,this._values.length--,e===this._cacheKey&&(this._cacheKey=t,this._cacheIndex=-2),!0}return!1},e.prototype.clear=function(){this._keys.length=0,this._values.length=0,this._cacheKey=t,this._cacheIndex=-2},e.prototype.keys=function(){return new n(this._keys,this._values,r)},e.prototype.values=function(){return new n(this._keys,this._values,o)},e.prototype.entries=function(){return new n(this._keys,this._values,s)},e.prototype["@@iterator"]=function(){return this.entries()},e.prototype[i]=function(){return this.entries()},e.prototype._find=function(t,e){return this._cacheKey!==t&&(this._cacheIndex=this._keys.indexOf(this._cacheKey=t)),this._cacheIndex<0&&e&&(this._cacheIndex=this._keys.length,this._keys.push(t),this._values.push(void 0)),this._cacheIndex},e}();function r(t,e){return t}function o(t,e){return e}function s(t,e){return[t,e]}}():Map,p=l||"function"!=typeof Set||"function"!=typeof Set.prototype.entries?function(){function t(){this._map=new f}return Object.defineProperty(t.prototype,"size",{get:function(){return this._map.size},enumerable:!0,configurable:!0}),t.prototype.has=function(t){return this._map.has(t)},t.prototype.add=function(t){return this._map.set(t,t),this},t.prototype.delete=function(t){return this._map.delete(t)},t.prototype.clear=function(){this._map.clear()},t.prototype.keys=function(){return this._map.keys()},t.prototype.values=function(){return this._map.values()},t.prototype.entries=function(){return this._map.entries()},t.prototype["@@iterator"]=function(){return this.keys()},t.prototype[i]=function(){return this.keys()},t}():Set,y=new(l||"function"!=typeof WeakMap?function(){var t=a.create(),n=r();return function(){function t(){this._key=r()}return t.prototype.has=function(t){var e=i(t,!1);return void 0!==e&&a.has(e,this._key)},t.prototype.get=function(t){var e=i(t,!1);return void 0!==e?a.get(e,this._key):void 0},t.prototype.set=function(t,e){return i(t,!0)[this._key]=e,this},t.prototype.delete=function(t){var e=i(t,!1);return void 0!==e&&delete e[this._key]},t.prototype.clear=function(){this._key=r()},t}();function r(){var e;do{e="@@WeakMap@@"+s()}while(a.has(t,e));return t[e]=!0,e}function i(t,r){if(!e.call(t,n)){if(!r)return;Object.defineProperty(t,n,{value:a.create()})}return t[n]}function o(t,e){for(var n=0;n<e;++n)t[n]=255*Math.random()|0;return t}function s(){var t,e=(t=16,"function"==typeof Uint8Array?"undefined"!=typeof crypto?crypto.getRandomValues(new Uint8Array(t)):"undefined"!=typeof msCrypto?msCrypto.getRandomValues(new Uint8Array(t)):o(new Uint8Array(t),t):o(new Array(t),t));e[6]=79&e[6]|64,e[8]=191&e[8]|128;for(var n="",r=0;r<16;++r){var i=e[r];4!==r&&6!==r&&8!==r||(n+="-"),i<16&&(n+="0"),n+=i.toString(16).toLowerCase()}return n}}():WeakMap);function h(t,e,n){var r=y.get(t);if(x(r)){if(!n)return;r=new f,y.set(t,r)}var i=r.get(e);if(x(i)){if(!n)return;i=new f,r.set(e,i)}return i}function d(t,e,n){if(v(t,e,n))return!0;var r=M(e);return!k(r)&&d(t,r,n)}function v(t,e,n){var r=h(e,n,!1);return!x(r)&&!!r.has(t)}function _(t,e,n){if(v(t,e,n))return w(t,e,n);var r=M(e);return k(r)?void 0:_(t,r,n)}function w(t,e,n){var r=h(e,n,!1);if(!x(r))return r.get(t)}function g(t,e,n,r){h(n,r,!0).set(t,e)}function m(t,e){var n=b(t,e),r=M(t);if(null===r)return n;var i=m(r,e);if(i.length<=0)return n;if(n.length<=0)return i;for(var o=new p,s=[],u=0,a=n;u<a.length;u++){var c=a[u];o.has(c)||(o.add(c),s.push(c))}for(var l=0,f=i;l<f.length;l++)c=f[l],o.has(c)||(o.add(c),s.push(c));return s}function b(t,e){var n=[],r=h(t,e,!1);if(x(r))return n;for(var o=function(t){var e=A(t,i);if(!j(e))throw new TypeError;var n=e.call(t);if(!F(n))throw new TypeError;return n}(r.keys()),s=0;;){var u=P(o);if(!u)return n.length=s,n;var a=u.value;try{n[s]=a}catch(t){try{q(o)}finally{throw t}}s++}}function E(t){if(null===t)return 1;switch(typeof t){case"undefined":return 0;case"boolean":return 2;case"string":return 3;case"symbol":return 4;case"number":return 5;case"object":return null===t?1:6;default:return 6}}function x(t){return void 0===t}function k(t){return null===t}function F(t){return"object"==typeof t?null!==t:"function"==typeof t}function O(t,e){switch(E(t)){case 0:case 1:case 2:case 3:case 4:case 5:return t}var n=3===e?"string":5===e?"number":"default",i=A(t,r);if(void 0!==i){var o=i.call(t,n);if(F(o))throw new TypeError;return o}return function(t,e){if("string"===e){var n=t.toString;if(j(n)&&!F(i=n.call(t)))return i;if(j(r=t.valueOf)&&!F(i=r.call(t)))return i}else{var r;if(j(r=t.valueOf)&&!F(i=r.call(t)))return i;var i,o=t.toString;if(j(o)&&!F(i=o.call(t)))return i}throw new TypeError}(t,"default"===n?"number":n)}function I(t){var e=O(t,3);return"symbol"==typeof e?e:function(t){return""+t}(e)}function T(t){return Array.isArray?Array.isArray(t):t instanceof Object?t instanceof Array:"[object Array]"===Object.prototype.toString.call(t)}function j(t){return"function"==typeof t}function S(t){return"function"==typeof t}function A(t,e){var n=t[e];if(null!=n){if(!j(n))throw new TypeError;return n}}function P(t){var e=t.next();return!e.done&&e}function q(t){var e=t.return;e&&e.call(t)}function M(t){var e=Object.getPrototypeOf(t);if("function"!=typeof t||t===c)return e;if(e!==c)return e;var n=t.prototype,r=n&&Object.getPrototypeOf(n);if(null==r||r===Object.prototype)return e;var i=r.constructor;return"function"!=typeof i||i===t?e:i}function B(t){return t.__=void 0,delete t.__,t}t("decorate",(function(t,e,n,r){if(x(n)){if(!T(t))throw new TypeError;if(!S(e))throw new TypeError;return function(t,e){for(var n=t.length-1;n>=0;--n){var r=(0,t[n])(e);if(!x(r)&&!k(r)){if(!S(r))throw new TypeError;e=r}}return e}(t,e)}if(!T(t))throw new TypeError;if(!F(e))throw new TypeError;if(!F(r)&&!x(r)&&!k(r))throw new TypeError;return k(r)&&(r=void 0),function(t,e,n,r){for(var i=t.length-1;i>=0;--i){var o=(0,t[i])(e,n,r);if(!x(o)&&!k(o)){if(!F(o))throw new TypeError;r=o}}return r}(t,e,n=I(n),r)})),t("metadata",(function(t,e){return function(n,r){if(!F(n))throw new TypeError;if(!x(r)&&!function(t){switch(E(t)){case 3:case 4:return!0;default:return!1}}(r))throw new TypeError;g(t,e,n,r)}})),t("defineMetadata",(function(t,e,n,r){if(!F(n))throw new TypeError;return x(r)||(r=I(r)),g(t,e,n,r)})),t("hasMetadata",(function(t,e,n){if(!F(e))throw new TypeError;return x(n)||(n=I(n)),d(t,e,n)})),t("hasOwnMetadata",(function(t,e,n){if(!F(e))throw new TypeError;return x(n)||(n=I(n)),v(t,e,n)})),t("getMetadata",(function(t,e,n){if(!F(e))throw new TypeError;return x(n)||(n=I(n)),_(t,e,n)})),t("getOwnMetadata",(function(t,e,n){if(!F(e))throw new TypeError;return x(n)||(n=I(n)),w(t,e,n)})),t("getMetadataKeys",(function(t,e){if(!F(t))throw new TypeError;return x(e)||(e=I(e)),m(t,e)})),t("getOwnMetadataKeys",(function(t,e){if(!F(t))throw new TypeError;return x(e)||(e=I(e)),b(t,e)})),t("deleteMetadata",(function(t,e,n){if(!F(e))throw new TypeError;x(n)||(n=I(n));var r=h(e,n,!1);if(x(r))return!1;if(!r.delete(t))return!1;if(r.size>0)return!0;var i=y.get(e);return i.delete(n),i.size>0||y.delete(e),!0}))}(r)}()}(t||(t={}))}},e={};function n(r){var i=e[r];if(void 0!==i)return i.exports;var o=e[r]={exports:{}};return t[r](o,o.exports,n),o.exports}(()=>{"use strict";function t(t,e,n,r){var i,o=arguments.length,s=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var u=t.length-1;u>=0;u--)(i=t[u])&&(s=(o<3?i(s):o>3?i(e,n,s):i(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s}function e(t,e){return function(n,r){e(n,r,t)}}function r(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)}Object.create,Object.create;var i=n(151),o=(n(660),window.__snarky.Field),s=window.__snarky.Bool,u=window.__snarky.Circuit,a=window.__snarky.Poseidon,c=window.__snarky.Group,l=window.__snarky.Scalar;class f{static sizeInFieldElements(){return this.prototype._sizeInFieldElements||0}static toFieldElements(t){const e=[],n=this.prototype._fields;if(null==n)return e;for(let r=0;r<n.length;++r){const[i,o]=n[r];o.toFieldElements(t[i]).forEach((t=>e.push(t)))}return e}toFieldElements(){return this.constructor.toFieldElements(this)}equals(t){return u.equal(this,t)}assertEquals(t){u.assertEqual(this,t)}static ofFieldElements(t){const e=this.prototype._fields;let n=0;const r=[];for(let i=0;i<e.length;++i){const o=e[i][1],s=o.sizeInFieldElements(),u=o.ofFieldElements(t.slice(n,n+s));r.push(u),n+=s}return new this(...r)}static toJSON(t){const e={};return void 0!==this.prototype._fields&&this.prototype._fields.forEach((([n,r])=>{e[n]=r.toJSON(t[n])})),e}static fromJSON(t){const e=[],n=this.prototype._fields;switch(typeof t){case"object":if(null===t||Array.isArray(t))return null;break;default:return null}if(void 0!==n)for(let r=0;r<n.length;++r){const[i,o]=n[r];if(void 0===t[i])return null;e.push(o.fromJSON(t[i]))}return new this(...e)}}function p(t,e){const n=Reflect.getMetadata("design:type",t,e);void 0!==t._fields&&null!==t._fields||(t._fields=[]),void 0!==t._sizeInFieldElements&&null!==t._sizeInFieldElements||(t._sizeInFieldElements=0),void 0===n||(n.toFieldElements&&n.ofFieldElements?(t._fields.push([e,n]),t._sizeInFieldElements+=n.sizeInFieldElements()):console.log(`warning: property ${e} missing field element conversion methods`))}function y(t,e,n){void 0===t._public&&(t._public=[]),t._public.push(n)}function h(t){return{sizeInFieldElements:()=>t.reduce(((t,e)=>t+e.sizeInFieldElements()),0),toFieldElements:e=>{let n=[];for(let r=0;r<e.length;++r)n.push(...t[r].toFieldElements(e[r]));return n},ofFieldElements:e=>{let n=0,r=[];return t.forEach((t=>{const i=t.sizeInFieldElements();r.push(t.ofFieldElements(e.slice(n,n+i))),n+=i})),r}}}function d(t,e,n){const r=Reflect.getMetadata("design:paramtypes",t,e),i=r.length,o=new Set(t._public),s=new Set;for(let t=0;t<i;++t)o.has(t)||s.add(t);t.snarkyMain=(n,r)=>{let s=[];for(let t=0;t<i;++t)s.push((o.has(t)?r:n).shift());return t[e].apply(t,s)},t.snarkyWitnessTyp=h(Array.from(s).map((t=>r[t]))),t.snarkyPublicTyp=h(Array.from(o).map((t=>r[t])))}class v extends f{s;constructor(t){super(),this.s=t}static random(){return new v(l.random())}static ofBits(t){return new v(l.ofBits(t))}toPublicKey(){return new _(c.generator.scale(this.s))}}t([p,r("design:type",l)],v.prototype,"s",void 0);class _ extends f{g;constructor(t){super(),this.g=t}static fromPrivateKey(t){return t.toPublicKey()}}t([p,r("design:type",c)],_.prototype,"g",void 0);class w extends f{r;s;constructor(t,e){super(),this.r=t,this.s=e}static create(t,e){const{g:n}=_.fromPrivateKey(t),r=t.s,i=l.random();let{x:o,y:s}=c.generator.scale(i);const u=s.toBits()[0].toBoolean()?i.neg():i,f=l.ofBits(a.hash(e.concat([n.x,n.y,o])).toBits()).mul(r).add(u);return new w(o,f)}verify(t,e){const n=t.g;let r=l.ofBits(a.hash(e.concat([n.x,n.y,this.r])).toBits()),i=n.scale(r).neg().add(c.generator.scale(this.s));return s.and(i.x.equals(this.r),i.y.toBits()[0].equals(!1))}}t([p,r("design:type",o)],w.prototype,"r",void 0),t([p,r("design:type",l)],w.prototype,"s",void 0);class g extends f{signature;acc;r;constructor(t,e,n){super(),this.signature=t,this.acc=e,this.r=n}}t([p,r("design:type",w)],g.prototype,"signature",void 0),t([p,r("design:type",i.Group)],g.prototype,"acc",void 0),t([p,r("design:type",i.Scalar)],g.prototype,"r",void 0);class m extends i.Circuit{static main(t,e){let n=new i.Group({x:-1,y:2}),r=i.Circuit.witness(i.Scalar,(()=>t.r)),o=n.scale(r),s=i.Circuit.witness(i.Group,(()=>t.acc));i.Group.generator,i.Circuit.witness(w,(()=>t.signature)),s.add(o).assertEquals(e)}}t([d,e(1,y),r("design:type",Function),r("design:paramtypes",[g,i.Group]),r("design:returntype",void 0)],m,"main",null);class b extends i.Circuit{static main(t){let e=t;for(let t=0;t<1e3;++t)e=e.mul(e)}}t([d,e(0,y),r("design:type",Function),r("design:paramtypes",[i.Field]),r("design:returntype",void 0)],b,"main",null);class E extends f{value;toFieldElements(){return[]}constructor(t){super(),this.value=t}static ofString(t){return new E([])}static readAll(t,e){let n,r=[];for(;n=t.read(e),null!==n;){let[t,i]=n;e=t,r.push(i)}return r}}class x extends f{response;signature;constructor(t,e){super(),this.response=t,this.signature=e}verify(t){}}t([p,r("design:type",E)],x.prototype,"response",void 0),t([p,r("design:type",w)],x.prototype,"signature",void 0);class k extends f{buyIndex;sellIndex;attestation;constructor(t,e,n){super(),this.buyIndex=t,this.sellIndex=e,this.attestation=n}}t([p,r("design:type",o)],k.prototype,"buyIndex",void 0),t([p,r("design:type",o)],k.prototype,"sellIndex",void 0),t([p,r("design:type",x)],k.prototype,"attestation",void 0);class F{timestamp;isBuy;price;quantity;static read(t){if(0===t.value.length)return null;let e=t.value[0],n=new F(e.isBuy,e.price,e.quantity,e.timestamp);return[new E(t.value.slice(1)),n]}constructor(t,e,n,r){this.isBuy=t,this.price=e,this.quantity=n,this.timestamp=r}}class O extends u{static main(t,e){t.attestation.verify(E.ofString("api.coinbase.com/trades"));const n=E.readAll(F,t.attestation.response);let r=I(n,t.buyIndex),i=I(n,t.sellIndex);r.isBuy.assertEquals(!0),i.isBuy.assertEquals(!1),r.timestamp.assertLt(i.timestamp),i.quantity.assertLt(r.quantity);let s=i.quantity.mul(r.price),u=i.quantity.mul(i.price);const a=new o(1e4);u.mul(a.add(e)).assertGte(s.mul(a))}}function I(t,e){let n=new o(e),[r,i]=t.reduce((([t,e],r,i)=>{let o=n.equals(i);return[u.if(o,r,t),e.or(o)]}),[t[0],new s(!1)]);return i.assertEquals(!0),r}t([d,e(1,y),r("design:type",Function),r("design:paramtypes",[k,o]),r("design:returntype",void 0)],O,"main",null),function(){const t=new Date,e=O.generateKeypair(),n=new Date;console.log("keypairgen",n.getTime()-t.getTime());const r=O.prove([{buyIndex:new o(0),sellIndex:new o(1),attestation:new x(new E([{timestamp:new o(150),price:new o(100),quantity:new o(5),isBuy:new s(!0)},{timestamp:new o(250),price:new o(500),quantity:new o(4),isBuy:new s(!1)}]),new w(new o(1),l.random()))}],[new o(25)],e);console.log(r,e)}()})()})();