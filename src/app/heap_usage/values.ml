(* values.ml -- values for heap_usage app *)

open Core_kernel

[@@@warning "-26-32"]

(*

let sample_pk = Quickcheck.random_value Signature_lib.Public_key.gen

let sample_pk_compressed = Signature_lib.Public_key.compress sample_pk

let account : Mina_base.Account.t =
  (* if there's a zkApp account, size is almost constant
     the zkapp_uri field is not currently bounded in size
  *)
  let zkapp_account : Mina_base.Zkapp_account.t =
    let app_state =
      Pickles_types.Vector.to_list Mina_base.Zkapp_account.default.app_state
      |> Pickles_types.Vector.Vector_8.of_list_exn
    in
    { Mina_base.Zkapp_account.default with
      app_state
    ; verification_key =
        Some
          With_hash.
            { data = Pickles.Side_loaded.Verification_key.dummy
            ; hash = Mina_base.Zkapp_account.dummy_vk_hash ()
            }
    ; zkapp_uri =
        "https://www.example.com/this-is-a-decently-long-url/latest-zkapp-implementation.html"
    }
  in
  { Mina_base.Account.empty with
    token_symbol = "123456"
  ; zkapp = Some zkapp_account
  }

(* beefy zkapp command with all proof updates *)
let zkapp_command =
  let num_updates = 16 in
  let _ledger, zkapp_commands =
    Snark_profiler_lib.create_ledger_and_zkapps ~min_num_updates:num_updates
      ~num_proof_updates:num_updates ~max_num_updates:num_updates ()
  in
  List.hd_exn zkapp_commands

let applied = Mina_base.Transaction_status.Applied

let from_access_statuses with_statuses =
  List.filter_map with_statuses ~f:(function
    | acct, `Accessed ->
        Some acct
    | _acct, `Not_accessed ->
        None )

let mk_scan_state_base_node
    (varying : Mina_transaction_logic.Transaction_applied.Varying.t) :
    Transaction_snark_scan_state.Transaction_with_witness.t Parallel_scan.Base.t
    =
  let weight : Parallel_scan.Weight.t = { base = 42; merge = 99 } in
  let job :
      Transaction_snark_scan_state.Transaction_with_witness.t
      Parallel_scan.Base.Job.t =
    let get = Quickcheck.random_value in
    let state_hash = get Mina_base.State_hash.gen in
    let state_body_hash = get Mina_base.State_body_hash.gen in
    let statement = get Transaction_snark.Statement.gen in
    let init_stack =
      Transaction_snark.Pending_coinbase_stack_state.Init_stack.Merge
    in
    let ledger_witness =
      let depth =
        Genesis_constants.Constraint_constants.compiled.ledger_depth
      in
      let accounts_accessed =
        match varying with
        | Command (Signed_command signed_cmd) ->
            let user_cmd = signed_cmd.common.user_command.data in
            Mina_base.Signed_command.account_access_statuses user_cmd applied
            |> from_access_statuses
        | Command (Zkapp_command zkapp_cmd) ->
            let zkapp_cmd = zkapp_cmd.command.data in
            Mina_base.Zkapp_command.account_access_statuses zkapp_cmd applied
            |> from_access_statuses
        | Fee_transfer ft ->
            let fee_transfer = ft.fee_transfer.data in
            Mina_base.Fee_transfer.receivers fee_transfer
        | Coinbase cb ->
            let coinbase = cb.coinbase.data in
            Mina_base.Coinbase.account_access_statuses coinbase applied
            |> from_access_statuses
      in
      (* for zkApps, some or all of the accounts will be zkApp accounts, so this
         understates mem usage
      *)
      let ledger = Mina_ledger.Ledger.create ~depth () in
      let accounts =
        Quickcheck.random_value
        @@ Quickcheck.Generator.list_with_length
             (List.length accounts_accessed)
             Mina_base.Account.gen
      in
      List.iter accounts ~f:(fun acct ->
          ignore
            ( Mina_ledger.Ledger.get_or_create_account ledger
                (Mina_base.Account.identifier acct)
                acct
              : _ ) ) ;
      Mina_ledger.Sparse_ledger.of_any_ledger
        (Mina_ledger.Ledger.Any_ledger.cast (module Mina_ledger.Ledger) ledger)
    in
    let transaction_with_info : Mina_transaction_logic.Transaction_applied.t =
      let previous_hash = get Mina_base.Ledger_hash.gen in
      { previous_hash; varying }
    in
    let job : Transaction_snark_scan_state.Transaction_with_witness.t =
      { transaction_with_info
      ; state_hash = (state_hash, state_body_hash)
      ; statement
      ; init_stack
      ; first_pass_ledger_witness = ledger_witness
      ; second_pass_ledger_witness = ledger_witness
      ; block_global_slot = Mina_numbers.Global_slot.zero
      }
    in
    let record : _ Parallel_scan.Base.Record.t =
      { job; seq_no = 1; status = Todo }
    in
    Full record
  in
  (weight, job)

let scan_state_base_node_coinbase =
  let varying : Mina_transaction_logic.Transaction_applied.Varying.t =
    let coinbase =
      Mina_base.Coinbase.create ~amount:Currency.Amount.zero
        ~receiver:sample_pk_compressed ~fee_transfer:None
      |> Or_error.ok_exn
    in
    Coinbase
      { coinbase = Mina_base.With_status.{ data = coinbase; status = Applied }
      ; new_accounts = []
      ; burned_tokens = Currency.Amount.zero
      }
  in
  mk_scan_state_base_node varying

let scan_state_base_node_payment =
  let varying : Mina_transaction_logic.Transaction_applied.Varying.t =
    let payload : Mina_base.Signed_command_payload.t =
      let payment_payload =
        Quickcheck.random_value
          (Mina_base.Payment_payload.gen Currency.Amount.zero)
      in
      let body : Mina_base.Signed_command_payload.Body.t =
        Payment payment_payload
      in
      let common : Mina_base.Signed_command_payload.Common.t =
        { fee = Currency.Fee.zero
        ; fee_payer_pk = sample_pk_compressed
        ; nonce = Mina_numbers.Account_nonce.zero
        ; valid_until = Mina_numbers.Global_slot.max_value
        ; memo = Mina_base.Signed_command_memo.empty
        }
      in
      { common; body }
    in
    let user_command : _ Mina_base.With_status.t =
      let signer = sample_pk in
      let data : Mina_base.Signed_command.t =
        { payload; signer; signature = Mina_base.Signature.dummy }
      in
      { data; status = Applied }
    in
    let common :
        Mina_transaction_logic.Transaction_applied.Signed_command_applied.Common
        .t =
      { user_command }
    in
    let body :
        Mina_transaction_logic.Transaction_applied.Signed_command_applied.Body.t
        =
      Payment { new_accounts = [] }
    in
    Command (Signed_command { common; body })
  in
  mk_scan_state_base_node varying

let scan_state_base_node_zkapp =
  let varying : Mina_transaction_logic.Transaction_applied.Varying.t =
    let zkapp_command_applied :
        Mina_transaction_logic.Transaction_applied.Zkapp_command_applied.t =
      let accounts =
        (* fudge: the `accounts` calculation is more complex; see `apply_zkapp_command_unchecked_aux`
           also, we're using the same account repeatedly
        *)
        let accessed =
          Mina_base.Zkapp_command.account_access_statuses zkapp_command applied
          |> from_access_statuses
        in
        List.map accessed ~f:(fun acct_id -> (acct_id, Some account))
      in
      let command =
        Mina_base.With_status.{ data = zkapp_command; status = applied }
      in
      let new_accounts = [] in
      { accounts; command; new_accounts }
    in
    Command (Zkapp_command zkapp_command_applied)
  in
  mk_scan_state_base_node varying

let scan_state_merge_node :
    Transaction_snark_scan_state.Ledger_proof_with_sok_message.t
    Parallel_scan.Merge.t =
  let weight1 : Parallel_scan.Weight.t = { base = 42; merge = 99 } in
  let weight2 : Parallel_scan.Weight.t = { base = 88; merge = 77 } in
  let job :
      Transaction_snark_scan_state.Ledger_proof_with_sok_message.t
      Parallel_scan.Merge.Job.t =
    let left =
      let sok_msg : Mina_base.Sok_message.t =
        { fee = Currency.Fee.zero; prover = sample_pk_compressed }
      in
      let proof = Mina_base.Proof.transaction_dummy in
      let statement =
        let without_sok =
          Quickcheck.random_value ~seed:(`Deterministic "no sok left")
            Transaction_snark.Statement.gen
        in
        { without_sok with sok_digest = Mina_base.Sok_message.digest sok_msg }
      in
      let ledger_proof = Transaction_snark.create ~statement ~proof in
      (ledger_proof, sok_msg)
    in
    let right =
      let sok_msg : Mina_base.Sok_message.t =
        { fee = Currency.Fee.zero; prover = sample_pk_compressed }
      in
      let proof =
        Result.ok_or_failwith
        @@ Mina_base.Proof.of_yojson
             (`String
               "KChzdGF0ZW1lbnQoKHByb29mX3N0YXRlKChkZWZlcnJlZF92YWx1ZXMoKHBsb25rKChhbHBoYSgoaW5uZXIoYzZlZWQwMzc1YmE4MjVmMyBkNDc3MDlkMzQ5OTc0OWQ0KSkpKShiZXRhKDEzZjYzODBlMmU3YzMyYzIgOGZmNzNhMDJhOWIzNjc5YSkpKGdhbW1hKDIxN2U3ZTJlZGM5ZmRkMzggZDIwNzc5N2Q5YzQ3MjBlNykpKHpldGEoKGlubmVyKDg3YTU4M2RiNzZlMTRkM2IgMWJjNzE3NDhiODYwNzg4MSkpKSkoam9pbnRfY29tYmluZXIoKSkoZmVhdHVyZV9mbGFncygocmFuZ2VfY2hlY2swIGZhbHNlKShyYW5nZV9jaGVjazEgZmFsc2UpKGZvcmVpZ25fZmllbGRfYWRkIGZhbHNlKShmb3JlaWduX2ZpZWxkX211bCBmYWxzZSkoeG9yIGZhbHNlKShyb3QgZmFsc2UpKGxvb2t1cCBmYWxzZSkocnVudGltZV90YWJsZXMgZmFsc2UpKSkpKShjb21iaW5lZF9pbm5lcl9wcm9kdWN0KFNoaWZ0ZWRfdmFsdWUgMHgyMkNFNzNEMDg5MEFERjFGQ0E3OTEwRUNDODlENjBFQ0NFRDBEMkVDNTAyODBFNTIyNjNDNkExOUI1NTlFOUE2KSkoYihTaGlmdGVkX3ZhbHVlIDB4MjY3QkMwQjFEMERDOUI0RUNEOUQ5RjYzQjA3QUVDODA4RjI3QTlGMTM2NDVCNkY4NUNBODNFMkFBRkM2NDg1QykpKHhpKChpbm5lcihkODA1M2VlNGUxMTEwZjdhIDRlNmNjZjgwOWNiN2YzMTApKSkpKGJ1bGxldHByb29mX2NoYWxsZW5nZXMoKChwcmVjaGFsbGVuZ2UoKGlubmVyKDA0MDhhYTdiZWY0MzZjMDMgOWFkYmU3MmIyN2RiYjdkZCkpKSkpKChwcmVjaGFsbGVuZ2UoKGlubmVyKGJkNGNmNDNhMTdiY2YzMzQgYWMzNjEwYjVhYzhmZDk1YykpKSkpKChwcmVjaGFsbGVuZ2UoKGlubmVyKDg4M2U5ZWVkYjZjODIxMzAgZmUyZWIzNDc1YjAxYzIyZikpKSkpKChwcmVjaGFsbGVuZ2UoKGlubmVyKDE1OWJjNjZmOGQ5M2ZkNjQgOGFlYTg5YzYzZTEyOTY4ZSkpKSkpKChwcmVjaGFsbGVuZ2UoKGlubmVyKGYyMTM3NWY1YWVmMTFjN2IgODRlOGYzYmU2OGZiNmZkYykpKSkpKChwcmVjaGFsbGVuZ2UoKGlubmVyKGNmOGEwYTU5YjM2ZGUxMWMgZmZmNGMxM2Q5YzQxMjc0YSkpKSkpKChwcmVjaGFsbGVuZ2UoKGlubmVyKDhkM2RhNjljYjNlNGVkN2UgMzZmYzIwMzkzZDIxNGU3OSkpKSkpKChwcmVjaGFsbGVuZ2UoKGlubmVyKDI3NjAyNTgyMzcwZGNmMTkgZTA0ZjBhOTRmNjU4NjU2OCkpKSkpKChwcmVjaGFsbGVuZ2UoKGlubmVyKGRiN2FkZDA2NGQxMmVlNWYgYTk5OGIyZDJmM2Q1MTFiMikpKSkpKChwcmVjaGFsbGVuZ2UoKGlubmVyKDJkMGE1YWZjYmZhY2M3YzEgMTUzZmQ5Yzk4ZjQ1NGJkZCkpKSkpKChwcmVjaGFsbGVuZ2UoKGlubmVyKGU1MDk2MDI3NjAyYjZhYTggN2ZlNWJlZTgwNWZlN2RlNykpKSkpKChwcmVjaGFsbGVuZ2UoKGlubmVyKDZjYzgyZDg2ZjY0MWZlYTMgYWY5NGMyZGQ0MDU2YTkxYikpKSkpKChwcmVjaGFsbGVuZ2UoKGlubmVyKDQ2Y2I5MjAyMGZiNDQ5OTcgOGZjNmY2ZWQwNDcxNzE5MykpKSkpKChwcmVjaGFsbGVuZ2UoKGlubmVyKDE5ZDA2NjE4ZWZjZWY1NTAgNTFhNDk0NzNjYWRlYmQ0MikpKSkpKChwcmVjaGFsbGVuZ2UoKGlubmVyKDZjOTgzY2E4ZjU5MTg4MjAgMmYwNTBhYjg4MTgwMTUwNikpKSkpKChwcmVjaGFsbGVuZ2UoKGlubmVyKGQyNjAyNDExMTM3MWZiYmYgNTM3NzUyMjUyNWU2MjJkMCkpKSkpKSkoYnJhbmNoX2RhdGEoKHByb29mc192ZXJpZmllZCBOMCkoZG9tYWluX2xvZzIiXHQiKSkpKSkoc3BvbmdlX2RpZ2VzdF9iZWZvcmVfZXZhbHVhdGlvbnMoNDRhMjIzZWZjZmMzNWRmMSA0MDQ1OGU4NTJjM2MyYTZhIDlhOTAwZGUyZDUzOWMwMDcgMmIzZDJkYjIyNzg3ZGM0OSkpKG1lc3NhZ2VzX2Zvcl9uZXh0X3dyYXBfcHJvb2YoKGNoYWxsZW5nZV9wb2x5bm9taWFsX2NvbW1pdG1lbnQoMHgxRTIzQUU3QzlFQjA3RDg0RUVGRTBCNDMzQUJCNUJDOTEwRTc4RjE1M0NCQjY4MjE5Qzg5MUFCREYyNzYyM0I2IDB4MkQ1OTE2RDhGRDU1QTNDMEIxN0MwMDczNzU0QTE2QkQyRDVBMkI2RTY2MUFBQTYyRjE0RUQ4REE3ODE3NEVBNSkpKG9sZF9idWxsZXRwcm9vZl9jaGFsbGVuZ2VzKCgoKHByZWNoYWxsZW5nZSgoaW5uZXIoMzM4MmIzYzlhY2U2YmY2ZiA3OTk3NDM1OGY5NzYxODYzKSkpKSkoKHByZWNoYWxsZW5nZSgoaW5uZXIoZGQzYTJiMDZlOTg4ODc5NyBkZDdhZTY0MDI5NDRhMWM3KSkpKSkoKHByZWNoYWxsZW5nZSgoaW5uZXIoYzZlOGU1MzBmNDljOWZjYiAwN2RkYmI2NWNkYTA5Y2RkKSkpKSkoKHByZWNoYWxsZW5nZSgoaW5uZXIoNTMyYzU5YTI4NzY5MWExMyBhOTIxYmNiMDJhNjU2ZjdiKSkpKSkoKHByZWNoYWxsZW5nZSgoaW5uZXIoZTI5Yzc3YjE4ZjEwMDc4YiBmODVjNWYwMGRmNmIwY2VlKSkpKSkoKHByZWNoYWxsZW5nZSgoaW5uZXIoMWRiZGE3MmQwN2IwOWM4NyA0ZDFiOTdlMmU5NWYyNmEwKSkpKSkoKHByZWNoYWxsZW5nZSgoaW5uZXIoOWM3NTc0N2M1NjgwNWYxMSBhMWZlNjM2OWZhY2VmMWU4KSkpKSkoKHByZWNoYWxsZW5nZSgoaW5uZXIoNWMyYjhhZGZkYmU5NjA0ZCA1YThjNzE4Y2YyMTBmNzliKSkpKSkoKHByZWNoYWxsZW5nZSgoaW5uZXIoMjJjMGIzNWM1MWUwNmI0OCBhNjg4OGI3MzQwYTk2ZGVkKSkpKSkoKHByZWNoYWxsZW5nZSgoaW5uZXIoOTAwN2Q3YjU1ZTc2NjQ2ZSBjMWM2OGIzOWRiNGU4ZTEyKSkpKSkoKHByZWNoYWxsZW5nZSgoaW5uZXIoNDQ0NWUzNWUzNzNmMmJjOSA5ZDQwYzcxNWZjOGNjZGU1KSkpKSkoKHByZWNoYWxsZW5nZSgoaW5uZXIoNDI5ODgyODQ0YmJjYWE0ZSA5N2E5MjdkN2QwYWZiN2JjKSkpKSkoKHByZWNoYWxsZW5nZSgoaW5uZXIoOTljYTNkNWJmZmZkNmU3NyBlZmU2NmE1NTE1NWM0Mjk0KSkpKSkoKHByZWNoYWxsZW5nZSgoaW5uZXIoNGI3ZGIyNzEyMTk3OTk1NCA5NTFmYTJlMDYxOTNjODQwKSkpKSkoKHByZWNoYWxsZW5nZSgoaW5uZXIoMmNkMWNjYmViMjA3NDdiMyA1YmQxZGUzY2YyNjQwMjFkKSkpKSkpKCgocHJlY2hhbGxlbmdlKChpbm5lcigzMzgyYjNjOWFjZTZiZjZmIDc5OTc0MzU4Zjk3NjE4NjMpKSkpKSgocHJlY2hhbGxlbmdlKChpbm5lcihkZDNhMmIwNmU5ODg4Nzk3IGRkN2FlNjQwMjk0NGExYzcpKSkpKSgocHJlY2hhbGxlbmdlKChpbm5lcihjNmU4ZTUzMGY0OWM5ZmNiIDA3ZGRiYjY1Y2RhMDljZGQpKSkpKSgocHJlY2hhbGxlbmdlKChpbm5lcig1MzJjNTlhMjg3NjkxYTEzIGE5MjFiY2IwMmE2NTZmN2IpKSkpKSgocHJlY2hhbGxlbmdlKChpbm5lcihlMjljNzdiMThmMTAwNzhiIGY4NWM1ZjAwZGY2YjBjZWUpKSkpKSgocHJlY2hhbGxlbmdlKChpbm5lcigxZGJkYTcyZDA3YjA5Yzg3IDRkMWI5N2UyZTk1ZjI2YTApKSkpKSgocHJlY2hhbGxlbmdlKChpbm5lcig5Yzc1NzQ3YzU2ODA1ZjExIGExZmU2MzY5ZmFjZWYxZTgpKSkpKSgocHJlY2hhbGxlbmdlKChpbm5lcig1YzJiOGFkZmRiZTk2MDRkIDVhOGM3MThjZjIxMGY3OWIpKSkpKSgocHJlY2hhbGxlbmdlKChpbm5lcigyMmMwYjM1YzUxZTA2YjQ4IGE2ODg4YjczNDBhOTZkZWQpKSkpKSgocHJlY2hhbGxlbmdlKChpbm5lcig5MDA3ZDdiNTVlNzY2NDZlIGMxYzY4YjM5ZGI0ZThlMTIpKSkpKSgocHJlY2hhbGxlbmdlKChpbm5lcig0NDQ1ZTM1ZTM3M2YyYmM5IDlkNDBjNzE1ZmM4Y2NkZTUpKSkpKSgocHJlY2hhbGxlbmdlKChpbm5lcig0Mjk4ODI4NDRiYmNhYTRlIDk3YTkyN2Q3ZDBhZmI3YmMpKSkpKSgocHJlY2hhbGxlbmdlKChpbm5lcig5OWNhM2Q1YmZmZmQ2ZTc3IGVmZTY2YTU1MTU1YzQyOTQpKSkpKSgocHJlY2hhbGxlbmdlKChpbm5lcig0YjdkYjI3MTIxOTc5OTU0IDk1MWZhMmUwNjE5M2M4NDApKSkpKSgocHJlY2hhbGxlbmdlKChpbm5lcigyY2QxY2NiZWIyMDc0N2IzIDViZDFkZTNjZjI2NDAyMWQpKSkpKSkpKSkpKSkobWVzc2FnZXNfZm9yX25leHRfc3RlcF9wcm9vZigoYXBwX3N0YXRlKCkpKGNoYWxsZW5nZV9wb2x5bm9taWFsX2NvbW1pdG1lbnRzKCkpKG9sZF9idWxsZXRwcm9vZl9jaGFsbGVuZ2VzKCkpKSkpKShwcmV2X2V2YWxzKChldmFscygocHVibGljX2lucHV0KDB4MjEyQkIxMzdGOEY4QkMyOEU5N0M0MUE0NjgwNjU4NjcwRjNCMUJFQjRERDNDNUY2REU3OTRCODJBNkQ1OTJFQyAweDA1OTkyMUQ2NzRDNDQ5OEI0MTBCQUYyNjYxQjRERDBCQTk0NURFMjg4RTU0QUQ2OThBQjJDN0MyRjVBODE2MkQpKShldmFscygodygoKDB4MERCQ0EzRjhCOThGNTEyQTY2NjA5OTcwOUVDRUIzQzYzOTdERTRDRTQ5RTk3MjhBMDQ5OUM0QTkxOEE0ODE5RCkoMHgxQjk0NDQyMDJFNkYwMDc4QjlCNEQ4NzYxMTFFRDhGOTkxQzAxQkU2MkZBRkQ0MDRDNDg3REMzNzcyRUMzRjBEKSkoKDB4MDg4OTVBNzM4NzFCMkFGQkUxOTA3MEM1MDY2RDY2NzVDOTYxODJEMENFOUQ4QTMwQjlCRUQ3QUU3Njc1MzEyOCkoMHgwMEIzNjRGN0RFODE2OUYxMzAxNUU2MDYzMzA5NDgzMjc0RUU4RTRDRkYyREE4RDMzODNCNzZBMjg3MkZGNENDKSkoKDB4MTlENTcyMzJCQ0YyNzY5QUVBRDlGOUE4NDEyQkVEODZDRUEwNjhGMDg2RkVFMDcwQkMxQkM0OEM0MTVCNTYwNykoMHgzRTQ0MkVCQThEOTc2ODYwMUNBRjIxNUY5QTQ3Mzc3MzE0QjUwNkUzNDlEMzhERDhERjk4MThDNDZEMzE3MkQwKSkoKDB4MjMwOUY5RjU1QjU0NDhFNEQ3RTk2RDExQjY5N0JCRERFN0MyQUQ5RDA4NDQxNzAwNjY1NDEzMDZFMDhFMkJFMikoMHgyNjREQzBBNEU1QkVCOEVCM0U1ODYwMjQ3MDQ3Qjc3OTYxN0UzQzgwMzk1OTEwRUI1QTlBNjlDQkEzRDQyMjc2KSkoKDB4MTFCMzBCREVDQkQwRjUwMTY1MzQ3NjZERTZGMTY4RkIyMjhCRDk4M0UxQjM3MUE2MThCMjUwQTMyMjQ3REVGRSkoMHgxNkYzNjY3RDA5QjA0QTJGMzBGMUQ3MkFEMkM5NEREQkZGMDBCMjk1QkFDNTIzREZCRUVFNzRDQzk0NTZGMDQ1KSkoKDB4MzAwNUJEMjQ4QzdFMzBCRTlGMDczRDdFNUM3ODg5RURCNzM4Njg2QjA5NDFFN0E2ODU5RkU5MDEwQTlEQTNCOSkoMHgxRjYxNTVFNDJBN0U2QzkyNjZCOUZFMjM1MUEwODJGMzQ4REZFQkUzRTY2NzZEREM4OUU5NDc1ODBGOTRBNjU4KSkoKDB4MjdENTEwQjg3MjZGMUQyNkJGQzcyMjlFODcyNTJDNUYzN0ZDMUM0RDYzMjNDMjE2NTc1RjEwNjUzQ0QyNjBDRCkoMHgxQjlBQUFCNzI5OTZBNjcyM0Q3MEYwN0UxNEFGNjgwQTk3NURFMUY1NzFBNEI2QUMzMkVBMjk4NjIyN0I4NDY2KSkoKDB4MzJEMjYzNzdENzNEQ0U4OUIxMzEwOTQ1MERBMjU3MkVCMUVGMUIxNDAzQjUzQjBDQ0ZDRDVENTgwMjFFNTk5MSkoMHgwODAwMzlGQzAzQjNDNDFERUVFRTg3MjYzRjdFQTA2RUE2NUI2QTczMDhFMkYxRDlDNkQyQkU5M0IwNDZDMDBDKSkoKDB4MzgzNTEwMjNFNTYwRUE2RUIxQkE0MjEyQkQxN0JEQTc2MTAyMEJCNkEwOUM2NkUxM0Y4NDVGOEQzNEVFODNCRCkoMHgyMjZBMTYyMzYyODJGMDQ0NEVCM0FDQTJBQzI2RkJEODk3ODI2MTVDREQ5RUI0NTBEMThFQjk1QUQ4Q0E1NDBCKSkoKDB4MkYyMUJBM0JEREZDQUU3RDVDQzBGNUJFN0IwRjdGQzNCQjE0NUJDQ0JGMDkwRTUxNjY1N0QzOTEwMTI4ODg4RCkoMHgxODQ5NDc1M0I4NTU0MzYzNDU2OEZERDYzNDJFNzRDQjAyQTk0Rjg1QjIxRjEwRjBCQUM0NjhENTRDMkRCNzI4KSkoKDB4MTRGOEMxMkREMUJCMzMwMDQ2ODMyRjkyOTVGQjRGNDJFRTc0QTgyNUZEMDlCMTc3QUJENTI2MkM5OTY3REUxQykoMHgxQjBEMDVEMkI2N0UyQjA3M0EwMzFGNzRERDVBMThEOEE4NkJCRDY5MzY0QzVFRUU5NDg3QjY1QkNDNEY2REQwKSkoKDB4MDQ1MjJBNDg4NzYwNzMzMDNBNDVFQ0I4RDMwQzMzNTgxRkE1NkU0REY1OTZEMkY3OEY3QUI5MTgzRjExMkI3OCkoMHgwMzVDMjBEQTkwRDVCOUEwRjc1ODVFNjFDQjI5ODZFMTMxRkJCRTEwQkY3QUQ2NEQyOUM0RUUyNkNCRDhEMzBBKSkoKDB4MjNCRDlDMTk1QzRGMjVFQjQxNTUxQTE1OEJBMjBFMjM4MTA4NUU0RDdDNkMyRTMxNzUwQzUxOERGRTAzNzg2RikoMHgyMjAyNjRCRjk1NTNBRkQ0NEY2RTIxQzEyQTQ2NzRGNjQ4QkM3QkY1MzA2RTQwOUNDOUU0MkZBRjcwMjMxNTI4KSkoKDB4M0RFQUY3MTdGQTUwQkUzQ0QyQkQzRTdGRENBMTczRUJEMzc1Rjg3RTQxMTUwMzJCNTg1NzYwOTQ1Qzg2MTA3MikoMHgwNjkxMjA1RjY0NzBBOTdEMzQzMDU0QkMzOUQ0QkNFRTY5MjRFRTlCOTE5MzUzN0VGNThGRTc1RTRENTcxMzZFKSkoKDB4MjY1MkZCQkVFNjY2RDAyQUQ5MDdCODJFN0ZGN0UxREU4RDg2NDc3OTkyRTEyODNBMTlDRjg4REMzQ0U1QUYzQykoMHgyQzQzNDg4RjVBNEIzNTNCOTM2NjE2QTE1RDBCN0RCOUQ1M0ZDMTBDRkEyREIyODM4QzIyRUUzMTFEODdENjJDKSkpKShjb2VmZmljaWVudHMoKCgweDEzRjkyQjJENDA4M0E2OTc0REVERENCRENCQTIwQ0JERkQ0MjM0NjU3MTA0Nzg1NENFM0Y1NURBOTlERTlGNUYpKDB4M0MxNEI3REM1Mjc2NjQ3RUEwMTNEOUMwNzVDQjBGOTg0RDk2RUYyRjM0MThFNjk4RUZGNkM4Qjg5QUVFQkI0NykpKCgweDJENjRCM0YyQjQ5M0Q1MDUwMjYxRDAwQUVDQzk0MEJGRTExMDBGMzBBNTAxRURCMDlGMjg1QjhGRkQ3MjIwOTYpKDB4MzgwQTAwODhGMjEzQjdEQkZCRThDQTA3MjJEN0RGOEExN0M4QUExMUQ1MDIwOUNGNTg1N0NCQUM2MDY2Q0EwOCkpKCgweDIwRkE2OUE1QkY1NzcyNkNGQzAzNUQ3RDVERjVBMkREMkI1QTVEQTk2N0MyOTRERjU2MzFFOTZEMUNFNDI2NEEpKDB4MzQ1RkYwN0M5QjFGQjVCRUFENzg1RTQ1MkZCQzFEOTZDQ0U5QjFGM0Q5MjY2REUyODk5NUNBNThBQTI5M0MxNykpKCgweDIxOTYxM0ZGRTM2NzIyRDZDMEU2NDI3ODU3Mzk0QTU3OTMxRUMwNDJEMTRDN0ExOUQxQzZFOTZFNEJCRDE2MjMpKDB4MjMxNjhBOUE0Q0E3NDdGOTNFODkyQTg4MjU4RTYzOEJBRUYwQThFMEU5MjE3RkJBQ0UxREFEQjEzMUZENkY2MykpKCgweDBGQUI4MENBMzUzMEU0RTZEM0M1MzExNUY2MDgxN0JEOUE4QjA4OEUyRDYyN0I2NDk1NjI2OTc5QTlFNzJFRDApKDB4MDkxNUZEODAxNTg0RjhEOEE3ODI4N0Y4MTEyQ0I3QkQwMzZDQTY0ODYwQjc3RkVDRUI1NEE2QjJBMTJGN0I2MSkpKCgweDFCNDUzRDY0MDVDOENFMUIyRUJERjNDQzRGMEM0MDNCRERDMjMzMjY3ODEwOTVBRjgxMURENjdBRkExMUVGMjApKDB4MENGRjlEMjM1QjczRDQ5OTMyQTM1MkFBNUE0RTA3NDYwQ0NGN0YzOTdGQUU2NDNFOEJBODhGODIxRTU1OEZCMCkpKCgweDBDODE4NDQ2MjU2ODNEREE3QThFMzhFNEY4RERENkUwRjVGRTMxOUQ5MTE0N0ZCNDQzNUMwOEJCRDM3NjA0RjkpKDB4MUQ4Q0VCQTlDMThBMTY2RDQxQzM2QUFGQjQ2MDU1ODRBMjg0QTJGNUIyNjkxMkQ5N0M1MTc5MkE0OTE4NTA4NikpKCgweDBFQjE4QjdFRDc4MEQ2ODc0NTk4NkJBMUVDMzM5RTFCOTJEMTZGNTYxNUZDNzhGQjAwMTlCMjVCOTlCOEJDNjUpKDB4MkU0MTVFRkQxMzQ4OTU4QTlGQjE3Nzc3NzFGNDE5MjFGMjczNzgxQzk1MjIwQTYyQkQzNzkzMEE3MkMzREY3QikpKCgweDNBMzYyMjAxQjYzODMxMjkxRjc3OERGNkU0NjRCQkJEMzgzRDQ0RDg4NEQ3NTQ2QkUwNjM2ODBERUY2RDlERDkpKDB4MDM0NEUyOTYzNjdDRTFDREVDMjM2QjU2RjE5QkI5RjRCRkJCNkI3Mzk4NDlGOTk3NUUxRkY0NEJCRTc5ODI0RCkpKCgweDE0RjBCRDBFODQ3MEJGNUE2NjE5NEJFRUYyMkI0QjFBNzJFQUIxREUwQjNEN0FFRjBDODM0M0M1QjYwNUNFNzApKDB4MjczRTdDN0VFRkUyMDI1OUYyN0NBQTFGM0M0QzU5ODkwNjJFMTFCMDJCQjQ1RDE1NkEyRUJENkY1MUMxNjI0RikpKCgweDMzOTA5RjhDQTgxQjQ3MjUzNzNDQTcyMUYxRDZCRkIwMUQ0MDdBMzRCODE4MUZCNDUwOUU4NEUxRDA1NDRBQzIpKDB4MzdDMjc1NDJDNjBBQjIyODE3MkY2NkJFNUE5RTM2OEY1NzA4OUM1RTIwNDgyNzIyNjNDQzNDQTRDNjI3RUUxQSkpKCgweDI0NzBFODcxNDVBN0U4MkVFQzNDNDhFMUEyMjU5RkY1RDgwMDg2NEE5RTk4QTk3QTIxN0IxMERCMTlGQzU2QUIpKDB4MjVEMEY3OTFBNkU1RTE3NzM5MzcwM0ZGNjMzQjY4RUJBRERBNTk2RUZBMTJBNzZCNjZEODczREYyRjkxNjRCMSkpKCgweDNENDBGRDlDMzY0RTAxMzI5QkVCRTQ1OTc4NjQxMTBDNUY5NzZFOUEwQkIzNUE4QTQwOEFEMTAyMUQ0OTU4NDIpKDB4MUE0OEIwQzczNjJCN0JDNDhERjVBMEMyNUExN0I5Qjg2MzQ2RjZCMDg5Qjg4MDFGREQ5RUYwRjRBQ0M0OTRCMSkpKCgweDJCMTc1MUJCRUNEQ0NENUFCNTMwREEwRjREMDRCQTI4OTM3QjYwRkUxMjREQkYxQTVFMzk4QzJBNTVFREFGODIpKDB4MjM2MDhERkU2NjhFQzAxQzJDNDJGQTMzRENCRkJCRkExNjA0NjM0NDQwOEVGRUVGOTA1OTJGNkQyMDVDNjY0NSkpKCgweDBFRkZCNDFEODQ2NEFBRkJCMEJBMjc1MUU5Njc2NkQyRDZGNjVEMzVCQkVCRjMyQUREMDMzRkExRUEyQjNDMjApKDB4MzhBRTNBOEM3RTgxODRBQTNCN0RCREUxQzIyOTczODA3MDlFRTE2MTQwNjFDRThFMTFGOUY3RDgyMEZEMDJCOSkpKSkoeigoMHgxREZDQzNBNzg3QkE4MjBFRDRFRkNGQUVFRDE1NkE3MEEwNzIxQkYxQTk3ODRERkUxQjJBRDlCQUEwNzEzRDE2KSgweDJBNjE2QjgzMzlCOTdBMjQ5MzRBMzk5NzVDQjk1NDkxOEE0MkExMEYwQUMzNEE0NkNERDU4RTVGQUQ4MzM4RkMpKSkocygoKDB4MkE2OEYxMEM2NDY1NENCRDY5MUIyMjIzMEU4NDA4N0Q2NkRBMzgwQkU2QTc1RDY0RkY2REJDQ0I4M0EwMTY3NikoMHgyMDNFMTg1ODk2NjMxMUM1RjlGM0IxM0NCQjU2MUExN0U3RUIxOEU4NDg3QTM4NTEwM0VDNTdGRTczOEM4RjlCKSkoKDB4Mjk0QjExRERGQTgyNDYyODU2RkFCNjY5NDBBN0VFQ0RGRDg1MUEyNzU0RUQ3QTlFMDVBRDhCN0M1NkY3RkZFMykoMHgyQjNBRjM1ODg0N0VDNkY2RUU4MTQzQzBDQURDNDA5MTc2QjM3MUE0NzhCQzc5NUM0RDQ1RDRBQUVDRUY1QTFGKSkoKDB4MkQ4MDIyMEFFM0Y3REJEMDk4MzRFRTdEQTczMzI3MDcxRDlEOUI5NTQ1QjlGMDZBNTk3RDE3Mjk5MUFBOUY5RSkoMHgwQjZDMzAzQjdEQTREOTU5QkNFNTA1OTFGN0Y1MjI0QTE2QTA2MThENjUzNkJGRDAzQzAxNjg4MTUzMkI5MzhFKSkoKDB4M0FCNEE5REExOUMwNEY4OTM5QjIyMDQzMjY3NEI5NDQyNUU3NDcwMUUwNzA1MUI5NDFFREJBNkNBRjc3OTQ2QykoMHgyQUZDMkJDNzFDN0EzRTZFQzNCQkQ0MERCQUFDQUY1RkEzNzMwODI1N0Q1Nzg5QUJDN0ExOTVCRkM2Qjg0NkNFKSkoKDB4MkU1OUMzQzY5OTQ1RUYzN0I2Q0FGMUYyQjRGODk4NjE1MUE4MjlGQzQzMzdCRkM0RkZFRTFDRjE1Q0QyNEM4NSkoMHgzMTZDQ0RCOUNBREMxMzMxNTQxRjc3N0QxNDBGODZGNjFDRDVFMjgzMjNFNzMyQzU1MTc5QzY3MkZFRjQ5MTJBKSkoKDB4MEE2RUNEOTlCRjhCRjZFOTc5QTBENzIwNEQ4NENEREVFNUIyMzg3QTkzNkRCMUFDNDhGRDIyQTU5QkQ5NTk5QikoMHgyMkNBQjk4N0ExNDc2NkNFMUY2MjhGNUY5RkRDMTc2QkZBRjkxRkM4NDYyN0JFRjlBNTU3NTVBRDk4OTlBNDM3KSkpKShnZW5lcmljX3NlbGVjdG9yKCgweDJENzgzQzJGQ0U5QUZDMDMyQzgxNEJCN0I0NTFDNTgxRkFCNTEyM0NDMkEyRDE3N0FDNUUyMkZDNzhCRDY3QUMpKDB4M0RDOTUzOUVCOUI5MTJBNEJDQzhEMUNEMjJENzI1QkY5NDhDQUY1Qzg4RTc2RTUzQTM2NTU1OUM1NUM3Mzk5MSkpKShwb3NlaWRvbl9zZWxlY3RvcigoMHgxOEU0OTUzNERCRTQ1NzQ2MEE4MEQwNzkxREM4MENBN0I5M0E0RDVFREEzMkU0NDc2M0U5Q0NFQkUwRkRBOEIyKSgweDJERTQyNjk5OEYzMTBGOTJBOUVFQTQxM0JCQjUwMDM3NkY5MTIwQUI4OTc3NzE5NTcyQUY5RTU2MDNERkZBNUUpKSkobG9va3VwKCkpKSkpKShmdF9ldmFsMSAweDAyQzIyRkJDQzYxOTgxOUE5MDk5NkI4NDZBQzAxNENGMUUzOUFCRjM2RDkxNkZBMjY5ODU5MzEyREE4MDY1OUUpKSkocHJvb2YoKG1lc3NhZ2VzKCh3X2NvbW0oKCgweDMwOUE5NUFFRTUyMjBGRTZEM0Y4RURDMDBEQTYwMDMwQTdFQzkxMTE1Qjk4QTk3OTQ0MDEyM0NDRjM0NTU5REUgMHgwREJCODY4RjNGMUQyN0NCQjU3Mjg1NTRBQjEzMzlFRDk5NDYzRERDQTE2N0M4RTM2QjVEOUQzNTYyNTg3NDcwKSkoKDB4MUVCMEQ3ODZCNkY2NTUxMjUxMEU0NTQwNjhGNDk2NDEyOTA2RDkzODEzMjc3NjZDRjQzNzYzNkQzNkNCOUREMCAweDIyMjk2MjAyQ0ZFQTE1MkI5QjNDQTZEOUUzRTkzOTFCMzE5RjU4NTMzRUEyMEZFQUI2QjQwRTIxMTYyM0UzM0YpKSgoMHgxOTk5NDc3NTQ1N0E2MTQxRUFEMTBEMkQxN0M0MERGM0MyNzMwRkIwQjBGODE1N0Q2OUY4QzkyRTQzM0YxMUYyIDB4MTA3REUxNzlENDMxQTBGMDMwN0EzMzg2RUM0QjEyQjExQTNCODREQTVEMUQxOTBERkU2NjNENENENDM2NEJCQikpKCgweDBDQzQzREVCMkUyREFCNUUwM0Y4OTA0Njk5MjNFM0U5RjE2ODlBQzAyN0I3MUNEN0QwMUMzQzk4RjQ3MUVGRkIgMHgxOUVCMkNCNDJEQTdEOUExQzY4NkU5ODQ4RUIzMTc3MUFCMDY4QzI4QjA4N0NCRjdDOTY2MzkwRkM4NkJBODhEKSkoKDB4MjFCMENDQTJGN0Q3MUY3REE0MTBEREIxN0I3NERCQ0U3Q0I2ODRCMTk5NEM4MEUzNzRENjZFRkIzMTgxRkUxRCAweDIxMjg5OTgzNDE2MzM4RTBENTNERUEwQTVERjBGRTNFRUJDREE5NDc1QjY3RUIzN0VDRDNGMzJBQUE2NEVDODYpKSgoMHgyNUNCRTc0M0MyRjQzRjUzMjQ1RTI1MTA5NjNDMzZFNTZGRjYwQjdBMDdGQzBCMjFFN0REMjU4NzczRDFBMkZBIDB4MzdCQkE2NUVCQjQ4NTM5QTU4QjM4RDkwODU2MDY4RkFDMDE4Njc3MzI1NkNCQjgzQzU1QjFDNDRGN0FCREQxRikpKCgweDE5N0ZBMTg2OTg1OUM5MjU3NkUwNEEyQ0EwMjAyRENCOTJEMEYxQ0E3MDQ0MjZFNUZDM0ZDQTU0OEI4RUI3NEEgMHgzNkY3MzNFOTA4RTNGQUQzOERENjUzNTgwMkU3NDMzQzBBNTQyMjJGMDg3MzBDODMyNDMwMkQ4NTlENzQ3MEEwKSkoKDB4MzNCQjFDNzY3QzgzM0E2OTg1OUFBNEZGRUMwQUFCRDg0NDBCNjRFMkFCMkI0NTQ4NzM2NkNBMUM4QkQ2NkM4QSAweDAxMTg1MUNGMENFMUJEOThEM0RERDNEQkMxMTU3OEM4RjJCODlDQzkwNTc2Q0YzMzFBNTg0RDY3MzA5MzJDQjMpKSgoMHgzQkUxQjZBMzM3N0Q5MUUzRDQ3QTk4Rjc0MUQzMDQ3ODdFNTFEOTkzRkUzQ0RCQkVDQTE1RUJDQzQyQzY1MkMzIDB4MkNBQjhCMDk0QUYyMTExMDVDNDlENjUyOUMzRDQyOUIwMDc2MTAzN0NGNTU1QjM3NTM5QzEyMDFEOTI2MTkyQikpKCgweDIwRTQ1OTJCMjUzOTAxQzZCNDlBODZGNkQzRkFEQUUwQjM4OEI4N0ZBNkZEOTU1NTg2Q0ZFNEY1MzNBNTY3MzQgMHgwOTBEQkJBMEYwNjc0Qjg1NkZBNDYyRThBOEQ3NDlGOUI1NEU3NDcyNzFEQzgxMjQ4RDAzMjg0RjEyQzY1MjM4KSkoKDB4MzNENkU1MTI0RjZFMkI0MjQ5OUMzRTU0OTM3MTIzNDk1RDhBQUEzMUFENjFGQzBGOTQ0NTQwN0IzOUU1N0QxNSAweDI1MzRFNTE5QkY2REM5NDFFOTFBNUYxMEI4RkMyQkY4RUM2Mjg5NEJCNkZCMUI5MjQ5QTk5QTVBOEE5MkQxN0UpKSgoMHgzMUU3QkI3MzZFM0U1QkM4NUY3NkZCNThGMzUwNjk1QjE4QzEyNkNDMEU5NkM2RUU0NTdGRDc4N0NCMTQ3Njg1IDB4MjdENEVCNjlBMjJBNzE5NjZGQ0U0RTRBNjNBNTBCMDY5NDEwNUMyN0Q5MEVCRDJEQTBDNTk5QTNDMTUxMTM3QykpKCgweDEyRDI3MkUxMzYzMTdGQ0ZEQzI1NDM1ODQ1MTZCNjMzMzc0OTE4NjI5RkE5RDhBMUFCMEIzRUUwNUI5MzRCNzAgMHgyQ0E3RkI0NUVFRkU2MzlGNDE1OUE4OTdBREVCMzhCNDFGQTI1OEVBM0JBRDU0RjhDREI3QjAxMTRGQzYwMzMzKSkoKDB4MEQ0MzIxODFBODhFQzU1NTgwNzM0MzE3MTRBOUQ2NjUwNkFCMzYwM0NDMDEwMUFGNzdDNTEyRDE5REUxMzBBQiAweDJEMjFCQUU4Qzc3N0FFQTY2MzlBRDlERTU4OTRGM0ZBQjg4Q0VGRDhBOTE3OTQ4RDlBMjA4REFDRTFDNTQxM0IpKSgoMHgxNjI0NUVBMDYzMDJGREU0Rjc1RDMxRTZEMDlBMTJBM0FBRTI0N0YwRjNDQ0I1OTYwQUVENjA1RDVDNTAxOTA2IDB4MEFEQjhDRkE4RTJGN0IxM0UyRTIyNUExNkZEMjZFQUUyOUJGMEFFQzk4MDg5RTgyNzg1RTdFMDY2NkUyODZGRCkpKSkoel9jb21tKCgweDBERjlDQzgxMjlDNEU3QjZDNUFGQjNEMjdCMUM0QjQwQ0U5ODQwMDRDNjlBODhEODk0QjA5RUJDRTc3OTQ4QUEgMHgxMkY3MDE0RUZCMjIyQ0IyRDUyOTQ4NERCNDg4RTIzMEI2QjBGOTcxMDRFNUUzNTYxNjZFOUNCNjdGMTFGRTc4KSkpKHRfY29tbSgoMHgyNTg3RTdDNDg4ODhGM0NDRUFCQjk1NjE1QzA3OEEyMzMxOEIxMDZEOEE0RTdGQ0JEQkZENkE2NDBDMTJDNjcwIDB4MDg3Mjc4NzJDMURFMDIwOTk5QUM5QzEyQ0YyQkQzNzZERDQyRTM5Nzk0RTFCQjUyQzE5REQ5QzJCQTVDQkE5NSkoMHgxNjI5RDJEQThFMTYwRkVGRDA4MDkyMzUyREUzMjg3REUyNEM1RjQ5Nzg4REZGMDc0QkJCNTE3MzY4NTdFQUU5IDB4MjE2QzBENEM4RTVGRDQ5M0JDNDU4MDVGNkQ1N0VCNjUyRDdFNEQyNThDMTJEQjJGNkNENDU5QkEyQUIzQkIyNCkoMHgxM0U3NEVFQjRDREE3RUUxQTJEMkI4RjY0NjAwRjU5NDhGN0MwREZDRjY1QzE5NkE1MTFGOUQ2RkI5REJGRUExIDB4M0I3MThEMUFEODE2OENBRDNEOTc2RDMwOURGREMzMzNFMzU0OTUxQ0U4RjY3QTE3NTdDQzlFMjA1RDU4RUMzMCkoMHgwRThFMzY4MDM5RDhDRTg0MzM5NDNGQUJEREYzNDYyMUExRTgxNDg4Q0UyRjFEQzRGMDdEMDdBN0JBQTU0RDg2IDB4MkM2M0Q3N0FDOTBCNDE1MTBBRUFFRDhENDlCNkZDMThFMThFODg5QjlGNDYyMkRFMUVFOUFCMDQ5NDJBN0Q0MCkoMHgzRDFGMUZERTBBMzBGQjJGQjJDQjdFNTAxNzE5NzUzQUIxQzE0N0EzMzM4RjA4ODI2MkU1MkY1MkE5MTc4NzNGIDB4MjczRDJDNkYzNDIwQjIzOUMzREIxMjU2ODUyQjUxNkIzNEU0MjNBMzg2RDM5NjA0MUJBNUMzNTAyQzAwNkE0MCkoMHgzNzcwM0M1QUQyN0MxMTgwMjYzOUE4OEQ4MjcxODBCNDUwQUU2MDBBMTQ3MkVCNkVGRDZFRjlDNUQxQkQxRDU1IDB4MzJFMkE0QkFGODEyRDU2RDdCNkM0QTM3MTFBRUMyMTcyMEZFMDE3M0JGNjNGNkFDNkIzOTg2NEJGMDQwN0U3QSkoMHgzNEQ1RjMwNzNCQkE1QTA2QzMwNTlGMkQ2OTc1MDAxQjU0MzkwMUQyMTBDN0NDOENCMzI3MDkxNUQyODBCNkEwIDB4MkZDREEzMTY5NkY3QkI3REJGMjhDM0JGNjQzRDg1NTcxQjQyMkEwNDBBOTIxNDRBMEY2QjAyMkEwM0MyQzZDNykpKShsb29rdXAoKSkpKShvcGVuaW5ncygocHJvb2YoKGxyKCgoMHgzQkZEQ0ExNUZBQUIxNDZDM0Y1RUQ5REI4QzUyQkM2NDY0NUVBQUZCREMzMkE0MDMzRDE2MTFEOEMzNzA4QzIyIDB4Mjc2MDlBNjI2RTI3Qzc4QTg4NEQwMzYwNjM2NkU4MEY0NzBDQTIzOEE0RDFCRDc5MDBFNDNGMjQwNzlCNjU0NCkoMHgyRUE3MTYxRjg2MUQwMzI0RTAyRjYwMUY0QTI5MUQ3QjAyNzIxNjZFNUJCMTAzQjUxNUMzMDQ5OEYyM0I5QUU1IDB4MUM3NTgyNTIzQzFEMUExNkIxNzc1RkQ2NkM2OTJCMEUxOTQ4MTRCNDUwQjQyRkEwMUI5Q0MyRjYyQUI1NzAwRCkpKCgweDEwRTE2OUI0RjBFNzg4Qzg1MEU5NTU5MkE3NjZFNjZDNjZGQ0E0QkUzODIxQTU0RTgzREUwMDQyM0QzMzdDRDAgMHgzQzVFNjZEQTQ0NUJFQTA0N0IzQUNDQzlCQTk5QzUxRDk3RkY0QkYyQzQ5MjlERTlFN0RBQzY5MjhCODkyQ0M5KSgweDEzODQyRTY2NTUyMERFREUxQTZDNzM1MjAwMUUwRjlDODFBRjNEMDc0RTk5NDkyMzQyRUY3N0FERDQxNzM0RjkgMHgwQ0FFQkUwREFFRDFGRkU1QzdCQzU2QkI4OURFNUUyOTkxQ0M4NjVFREMwNkEwRkRGOTJBNTk5NjMwQkY5NTQ1KSkoKDB4MjE5OEVFNDVGM0U5MzZEMzhFRjU3MERCQ0FFNjRBMDgwNjNDQUQ1NDUxRkY0QjkwRDUyREQwQTg0Q0EzMkY5MyAweDA3MDI3QTdGRTU3N0U0MjdFNDFERDE5MjBCOEUxMTEwMkZBMTY3MTI5N0FGQzM0QTNDMUJGQzk0ODlGOEZEQ0YpKDB4MkFCRUFFQzY5MTQ1NkNDRUMyMUJGNjZGRjkzRTI0QUU0RjQ5NDE1NjRCNDQyQzM1OTlEM0FGQTE2ODI5QjFEMiAweDJENzJDODZDMTMxMzQyRTlGODJFMkIwNkNEQTczNUQxQ0I4RDdCRTg2MDg5RjJFQzhGOTkyMTc2MEIxRjAwNUYpKSgoMHgzMjlENDFGMDU0RDBBN0NCOTQyQ0I2NjY5RDQ2RDMyMTM5Q0E3Q0RGMTRGM0FDOUMwMjY2NzNBRkZENUI1MTQ0IDB4MDU4QjFBQjdBMTdFODA0RUY2N0I0OUMxNTdEMEUzQTRFREUyNzZCRTExNTlCRUQ4M0JFOTA1REJENTI4QkQzRSkoMHgzRDBCRUUyMzc5NDEwN0VBRUUyRDQzRDU0QzY1NTU4NEVDQTE4Qzg4MTI4OTA4MTJERTdENjk2M0ZCQTJDNUZBIDB4MEUwNDY4Q0U2QUZCRkMyMTNGOUZGRjY4QjY2NUNFNkQ1RkIwOEMyQzEyNUI4NEU3ODBFMUNDODMwNDg3OEU5NykpKCgweDM1NjczQjBBREMzOUFBNTVERTdGODkyQ0VCMkI4MjdDN0Y5MTA3RUI1RkU4QUEzMjIyNENCN0I4REZBNkRCQTIgMHgxOTE5NkM0QTQ5OERDOUJBMUI3RUUzMjgxM0U5QjQyMTBBNzc0MjQyMTU2MzBCQjIzMEQzRjFEMTVCNDlGNkRFKSgweDE4OTkwREE0MDY0NTU1N0VDMTc2NDBBM0NFOTc5RkZENzY3M0Q1NTI2MjdGNjVFMzYzN0E5NDg4MzQyQTA3RDcgMHgxNTEwQ0ZCOERCRUQzMzU0M0VEMzZDMjBDOEQwOTIxODM2NDBCM0E1M0Y5MTMwREU3NEU4NUQyM0IyQTdBMDU2KSkoKDB4MUE0NUM5NjM2MkUwNDgwQzMxNjY4RDc1QUJGRjhCNTBCN0Y5ODBFMEEzRTI4NkQyQTVGMjYyMUNGNzQ3QTFFOSAweDA3ODlERTk4Q0Q3MEZBMkM2Mjc0NEFEQjM3RkY1RTI4MkIxRDlEMUNGQTE3MjI5ODVBOTM4NEY4MThCMzQ4ODEpKDB4MjM2OThDMUQ0MjM2QzAzRTk5RjlBOUQxRkFCREZEQTY2QkM5NDc3Q0ZGMkYxQUNDRkVEOUY0MzUyQzJDQjY1NiAweDE4QTRCREIyMkRDOEI3ODJGNkUzRkJBQTcwQUM3NURCREI4OEM1MjI0QzIyNDgxQkYyQTNBRjcwMzE1RTZFQ0QpKSgoMHgzREQyNTVGREU3RDEzMzI4RDEyNzQ3N0YxRjcxMkJBQzQzOEFBM0E3NjEyNUREREY3MUU0NjRGQTkyM0M4NUVEIDB4MERCRjA0MjkxMkE3N0Q5QzIzRDQxRTYxNzFENkNDN0UzMUMyQjU2OEE2QzVCQ0JBRjQyODM0RkM5QjA2QTAyQikoMHgxODgwNjVCNzc4Q0UyMkFBMTg5MzdENjA3REJCQkJBRjZCNzhBMEM1ODk4MUUyNUUzNThDN0EwOTFDOThEMzM5IDB4MzgxMEY0RDhEMEY0RDUzQTUyRDZDNDIwMjA3N0FCN0FCOTRBNEMwREVFMUUyMUQ3RDUwRUQyMTIwOEUyMDczQSkpKCgweDFGNTY0NzY2NTBCNEQ5MTA3MEJCRkIwNEQ2OEQ3ODZDMTFDMjI2NzhDMzEzQjNFRTRGRDU1N0ZBN0QxRjY2MUUgMHgyQ0NFM0U0QUY0MzJCQTM3RkU3MDE4RkMyQUFCMUZGQUVDQUNFMDlERkE5MTYyMDUwREJDRUQwOUI3M0Y1NjI3KSgweDAxNEUxMkMxNDEwRUQwMTJBQkEzREEyNjA5NTVFRURGMTlEQTg1NDg2MUI4MkY1Q0MwREJDMjA1QjRBOUFDNkQgMHgxQTA4MzAxMkVENDNBMEY3NEY0Rjg0NEY1RTg3MEI1MUVCN0VEMEM5N0MxRTM0MzcxOTlEMDg4NUVEQzMzMkZDKSkoKDB4MjEzNkFENDQwOUQ2NTE3NDY2QzE0Qjk3RENFMEI2MkJBMzZENDgzN0RCOEEwM0Q3NkE0QTkxNUQxMTA2MzgwOSAweDA3QzdBNkYyRkZGQzFERUVGNkI3Qjg5OTEyQTkzQzVDMUQwRDhDNzg3OTM2NkEwRURDMUM4NzgyNzYzNUEzQzEpKDB4MzY5RUY4REQ0NTk1NTU4RDU2QzYyQjU2ODg3NkRDNUM2NkY5Q0Q2N0MwQjZERURCNjdGMDQ3M0Y0QzE2MEQ5MyAweDM1QzY0MDRDQjM4NjgzRkExRUUxNDNFNEJDMjMxNzI3QjFDMzUzMDE3NzY5ODUwNjhCOTcxNDRDNEY3OUUzRTcpKSgoMHgxRjFGNzY5MDg2RjY3OEE5ODg4MjMyQTBCQTQ0MTk3MkEzQkNBQzU2NUYxQzFCREZFNEQxODUxOUJGODc4ODM3IDB4M0Q3QTZFMjIwMjc5RUUxRjVBRjg5NkUwMDBBREIyMDEyNENENkZFMUVDN0ZBOTc1QTExOTY0RjlBOTJGNjE2QSkoMHgyNkE0MDhBNjk2N0YzRTVBNTQyOENBRjI0QjU3MjdCMTgxOEQzQzc5NUM1NjQxQzQ1RTQ1MTY3MUJFQUQ3OEExIDB4MTQ5NzYwQjg2RDhBNEQwRTY3NkQyNUVCMDVDMTQwMzE1REFBMkQzMEJGNzBBQjY3ODc4MkMwMjZGMTBCNzZDQikpKCgweDFGMTZCNzM2Q0FBNjU5MDVBQjRCQUMwNjBCN0VGNzlBQUU1OUZEQjlBRTg5NkY3N0MzMTY4OUI4MEIzMDU3QzIgMHgzQzU0NTZEREVCOUMwNzM4RTQ4RkNCM0Q2MDNFQzZBRkIxNDYyOTZBRjQwMjJERDIxMTRBQUQwNEM5NDA4MURBKSgweDFGNUE0MTdFQ0FCQTIyQzk1MjBFMDYxRkQ2Nzc1RkQwRDAxNDRFQjdERDYzMjgyNTJBODBGNjdGQTQ2MjZGODEgMHgyOERGRTlFQzg4RDNCMTNDRkYwQzMxOUI3QzY0MjJGM0E4N0Q4NUE4RDMxMDRFNDYxQTVDMUVGQ0Y1MzE5QjJEKSkoKDB4MTkwOUI4RDQwMjY0Qzg0NEVENUFEODU3RjYwNkY3RTEzQTQ3Qjc3NTM0ODIyRjlDNkM4RUJBOEUwNkQ3RDQwQyAweDNFRUIyNjRCRDFFRDgyQ0JBNzczMEVBMDU2NTJDMzVCMzE0M0JEMTNENzMyMURBODFGNDVFQzExOTI3ODU0NzIpKDB4MjBCQUU4MzZGOTU2NTFCQjhGMzE4QkY5RkY4Q0E1RjE2MjA0NUMyNDlEMTZGQjNFMjA2OEIyODk5NTUwNzk4OSAweDFGOTBFQ0M5MTE0ODdEQTg5MzYxMjgwMEU1RURGQTM5NTU5RkI2NDkyNTYxNDI5RjJBNjkwNkZEMjlBQjg3ODUpKSgoMHgyMDk0MDdFQkM3OEVCMUVDNUUwMTVFNzJBMTQ4RUQ2MEVGQzk5QTVBNzAxNjVGQUZFRUUwNDc2NjMzREZCMTQ0IDB4MjlDNTNCOTkzRDMxRkVFODcyNUIyQzAxOTVDOTNGNzlCQTRDMTg4NzI3MjI0NEIzMjc1QkY3NTU1MTVCNTNENykoMHgyOTJBQkQ4M0I5Qzg1QTlFQzUxNDFCQTIwQzkwRkVGQjFGQjJBODk1NjhBNDJBNzc4NkU5NTJDMzk2NEQxMDhBIDB4MENCQUI2MzcxMEFFMzgzNDk4MTM4NjRBRjUyQTQwNzU3MzcyN0E0MzI2MjFBOEM4NjdEOTdDODRENkNFQzk3MSkpKCgweDExREExNDA2NDIyNDgzRjAyQUE3QkNBRTI4MzA3MEE0NjZGOTMxQkMwNDAzN0I0NDk0NkE5M0IzOUVDMTczMzggMHgwNkI2OUQyQkY4QkQxMkJCMEUyNkJFNEQ4NkQwRkE0RTcyN0U1QTcyQzk0MEIwRjc5QzgyQTg2NTIzMjlFRTIxKSgweDA5Qjg4NTZDOUY0NjA1M0M5NjBBQzBDNTI5MTdCN0U3OTIxMTk5MDE3MEY4Q0UyRkY5Mjg0MkIzNzYyM0Q1RTIgMHgwNEZFMjhDNTc2NjlEQzAzMDc4NEI3Mzg0NkZBOEQ5RUI3NzY3QzhDQTBBOTgxODA5MTA4RDhCRDFBMTkzNTI1KSkoKDB4MDdCRUVGMjk4OTM0OTc3QTU1OUEzMzBDQjJFNUZEOUQ0QzYxN0Q3NzJFREFCNjVGRUQ4RDk1NEI1ODQxOUY1NSAweDNFRjJCOTEzMzEyQ0YzOUY2MTRFOEQ5MTU0MUExOTMxMzM3MEVFQzAxRjkwRTREMTBFQkM3NjE3RDcwNTYxNTgpKDB4MUE2NkNCNTc3QzdBMzE2NTA4MzZGN0I1NDdDNkEzNTZGOTg1ODJFMEVCNTM4NEFFNUUwQTE4OTg5MUY1MEQ2NyAweDAwNjk2MDc4QUNBODEzNDU4Q0I1MTkyNTU1QUM1M0M5Q0IxQzI5M0QxMkQ4QzdENkVGNDJFNTFBNzJFNjFGN0MpKSkpKHpfMSAweDE0NTE2MjhFNEU3QTVBQUU4OTYzRUM5ODgxMENDN0U3RDI2NTI2NUUxOEM4OTJBOTdEMTU2NkVBMzMxQ0REQ0IpKHpfMiAweDNFNTdFOTZCM0QxN0I5RTk5NEQyNUE1QTE3RDBCN0MzMjI4NUU4NkE5RjI1OTEzNDIxOEYzNDJBNzg2Q0Q0MEYpKGRlbHRhKDB4MDRDQTJGQUI2QjEyNzA1Njc5NzJGMkM5OTQzNUU5Njk2RUQwN0UxOUZGODg1NjI3RTM4RDUwRTE1QTlGMUNENCAweDI2RTVCNjM0N0VGOTMwNkNDQUMyNTYzOEFERDg3QTY2MTQ5RDZDRUYwNkREQjg2NjQ4QkIzRDEzNzg5OTZCRkQpKShjaGFsbGVuZ2VfcG9seW5vbWlhbF9jb21taXRtZW50KDB4MDgzNTlGNUZCRkQyNkRBMTIyOTMyMjE5NkRGNkY0RUVCQjg2ODdCQ0JDMTdEMjZEOUM1QzZBNkY1ODVGNDkxMCAweDIxNDhFQzEwOTBCNjZEMjA4NTBGQTU4Njc3QTA4RTNENjQzRTEwNzE3RTAyNDI0QkIyQ0ZGNzMzMkExODAwRTQpKSkpKGV2YWxzKCh3KCgoMHgzNzgzOTAxMkU0Mjk5QjU1QjU1RTAzNDNEMTY0NzM0QjZBMzhDRUNCREQ0MTdEMDgxNUEzQkJFRTJGRjhCQkM1KSgweDNBMDE2NUNFRjExMEU5OUQ5QzUzNEE0NDA4OTFGQkYxMjgxQUJFQkFBMkU4ODVCQzEyRDM2QTBGOEVGNEQwMTkpKSgoMHgzRURFOTM5NkM3NkYyOTZDMzc1MUE2QzFEN0JFMUVCOTMwNzJEMkI2OUUxMEVEQzBEQkExMTYwM0QzMDlDNDY0KSgweDA0NkQzMDU3NDEzNEQ5NEIzODU5NjREMDNFRTNCOEE1MTBCMzlGNkJGNUY3Q0E5MTM4NTNBOTY2RjU2M0VCODUpKSgoMHgwNkJGMDE0MjIxMUQ0QUZGREI3NDgxRUMyNDQwNjhCQ0NGREQ2ODc2NDU1QTA1Mzc2RTFDQTIyMjQ1NUIwRDQ2KSgweDIxMDkwMzk0NTgxQTA2MzFERTI3MThBM0FDODc4OEExQUU5QkMwQTE0MEM3MTUxRjJBMTEzODFDQzIxQUI5QjApKSgoMHgzNUMwNTUzRjQ1OTI2RUQ1ODlDNjUxMDMyRTE0ODMxNEMxNzY0REU3RkIyMDYxNDE3NkNGNTBBMjU0REU4MjU4KSgweDAyMjdDREE0RTE2OEI2MjY5NEFBM0ZFODI3QUZCRTE5MjdGNTBDMTU1MjFGNEMyMEQ0MjhBMTA2QTY1MzdGNEEpKSgoMHgxQzg1RDEyRjY0RUE5M0IzMEZDM0JBNjhCM0MxOTlCNEU1MkVCODQ5MkUzNEE5NkFFNkMxRDA0NTdGNTI0QjhFKSgweDM2N0U1NDgwM0I4ODM3MTlENDlCMjFFOTM2MkI3MTEwNERCMEE0RjU3OTI4MzdDQzhBMUMxNERCRjY5RDBCMTUpKSgoMHgyOTlEQURBREQyRDlFMjY3RTgwQjVENzMzNzg4RUYzMDkwMjdFN0ExREFBQjdGODY0N0QwMDc3NEU1M0JFRUI2KSgweDI1OTQ1OUE5RDcxMzQ5QTM5NDFBQ0RGNTQ1QzQ1MTVFQTYyRDU0QkZFRTUxQkE1Rjk1NjExQTc3OUI0NTM4NjMpKSgoMHgzMTE0QzM3RTBCRTU0RkM5OTg4RUY1REIzQzc1REY5M0JDQ0EyQjY3ODcxQUMyNzFGQzZCMjczNUM4NDQxN0U2KSgweDA2REM3Q0YxODRFNTgxNUVFQkI0RkYzRTVGMTBCQzM3QjUzNkU1NDdBNUY1NDEyRjcwN0Q5OUQ0Nzk1RjEwMkMpKSgoMHgxNzUwN0ZBMEI0MTM2ODM5QjY3NTZCODM4MDU1RDE3OUREMDE0QkI4MDNGN0ZDNDlEMkNEQTYwODkxRkI1OTUyKSgweDI4NkRCNEVCNTBERTNEMzY3NkZFOUFEMzk0MkIzNTRBOEVFMUEzMjE2REM1NTY5NTlBOUJFQzE0MTU3NTdERTApKSgoMHgyNjZCOUFFRkMyQ0IwMjYzNDFDRUYzOUMxQjQ5Q0ExMkQ0NUMwMDhFMDM2MEI2NzkxQzI4M0ZENDkyQjJDM0FEKSgweDBEMjc4OUUyNzEzMzJDNkVDNDU4NzA0NzhDQzI4NTg1NDNGRDExOEY2REVDN0ZDRUQ0OTk2MDYxOEJENzQxMkQpKSgoMHgyQTIwRUQ0QTVGM0VFOTM0OTI1MzVBRERENDBCNjU0MTY3MEY0NEM1NEFCREExQ0RFMzAwMDY4QUExRDEyNEUwKSgweDM3RjU5MzAxRkI3RkI2NUZFNkExNTBCRDE5RUMxMDQ1NUYxRTExMTBFN0M3QTBCQTE3MTJDMjdCMTgzQTNCNDMpKSgoMHgxNjhBQUQ1Q0RCOTVDNEUxODlBQTFFRTNEN0MzODQ2RjhBRkY2NzNENThEOERDMzJEOEMyNUI1QzhGN0U1RDVBKSgweDE2N0FGNzdCRUFGQzRDMjM0QUZDQ0ExM0M5QUUwMUEzQjA0MTc0MjVFNjRDMkQ3MDg4RDhFNUUwQTlBODI0MkEpKSgoMHgxRUJGQjNDNjM5RDIzRDU4NDNENjVGQThBRDlCRkI1RkFEQTc4MzJDMUY0RTE4NTkxRTQwQUUwQTExNDIxRDRDKSgweDM2MDI2OTk4REU1QzVEODREMEFDNzJEMDQwRUVDNjBDRDgyM0NGMjc0MDQ3MDM4QkNFRUQ5MzlCOUE2QzJCMTkpKSgoMHgzREM3RUY4MEMzNjBCNzI2N0VDRTREMTUxQkEyMzNGQkM0Mjc4MjFBMzU0N0U4QjZDMzEzQTUwMEQ2OURCQUNBKSgweDAxQkI1NUZBQjdGODlDODkwQTgxMzRCMENCRDhEQUM5RTQ0MEMzOEMwQ0ExQkY0RTMzMUFENjQ3MTZFMjhEMzkpKSgoMHgyMzQzOERDMzM0Rjk2OTM3QjQzOUNFNUMxMkQ4MzZDMjNCM0UxQkNFODZBNkUxMUI5OENFQjUyNzIxNDA3NDgxKSgweDA3RENDMUIyNjA3NjVEREU5QkM1RDIxM0FBNjIwQjYxMkI2NUMxNDVCM0JDQzk1N0IwNDFFNEJDMkI2MzVENkUpKSgoMHgwODAyQkY1MjZCRDdDOUM1NjE2RjdDMDM4Q0YzOTBCMTRGMDU1RTAxMjlDRjc0QTUyQ0ExQTUwREQ3NjUxQkVBKSgweDIxRUZDNjJDRTEwNEZCMzVEMjBFRDNBNTU1QkMzNzBENjQxOEZFQjM4MURBNjVDQkEzQ0FFNzI5MDJFQURGMkQpKSkpKGNvZWZmaWNpZW50cygoKDB4MzUwRURENTI0NTg2NUEzMzg1NjZDOTEzRUU2OERFQkJBQzVDM0U5MjMwM0U3QTlDRjI4QTlDRTkzNzU2RTBEQSkoMHgzRkJERDg0MzM4Q0ZGODA2RThDMDU0RkE2QUIzMTBDQTNFREQ4NjVCMzY4M0IzMkQ3NEUzMUE1NDIyNkE5NERBKSkoKDB4MkUwNzYwRDE5OTg5MDc5QjVCQjBCMTMzODQxMDM3QUU1MDQzNDhBMzI1NDU2NkMxNTIxQjdCMDg2RjNCOTRDMCkoMHgzQTlGOEZDRjhBMjZCMjE2MTQxOTY0REE2N0M0RjgzRUI0MDI2RjA4N0I4QUQ0RDk0N0JCOEREM0ZDQ0MwQjk5KSkoKDB4MTMyMTI2OUU3NERBMjIxOThDMjE4MEVFRDdBNTI5MTVEM0Q0NzcyQ0U3NEUyQzUyOEUzRTdCRUMwQzkzMDhBOSkoMHgwN0NDOTU0MkQ2QkFBQTU2QkVENTA1RjhBNTQ2RDA5QjY5OEMzNUExMkQ5Rjk2NzgxMzEwMjEzMDhFRjVEMzY4KSkoKDB4MzIyNTFGN0ZDQTI5RDJBOTcyRDE4QTg3RjZFRDIxOEU1RjM0NjZGOEFGM0JCRDQ5RDg3QzU1RjYxNDU1QkEzRSkoMHgwREMxN0Y0RkZFQ0U5QzZFMzNCQjg1Q0UxREJBMzYyQjg0NkQ4NUJDRkFDQkM0QzYxODI3NUZDRjI1QTQ1ODVEKSkoKDB4MTRDNEQyOEU3RDZFOTk3NEEwQUU2MEM0MjYwRDVCNDAxNUFEMzA4Q0E4MDQwRDFCOUMzMzBCNTdENUU2MzE1RCkoMHgzOTY5MzVGNEQ1QUE0MjA2Q0Q4MkUxN0E5NjcyNDFBMDg4QUI3QUU1M0MwMDlFQTFENzU1QkY3RjhGOEVBODA0KSkoKDB4MzMwQzZCNjI4OUQ5NUYzNkM5NDI1MkZGMUI3NjhFQ0FBODEwRTYyQ0Y4Rjg0QkE2QTM3NzNFQ0EyNEI2RkZBQykoMHgxQ0JCMTBFNkI3MkQwMTM5NUMxRDAyRTcwMTI0RDNCMjIxMjE2MDFENzhGMERDMEZDMDFDMDg4OTg4RDhDNDQ3KSkoKDB4MUQ1MDgyQTlBNzNFNzY2Q0ZENEIzRUIwQUJGRDI2MUFDQjA4MEE1RjE2MkVDNjdGQjQwRjBEMTY0MjBCMUU3MykoMHgxRTFGOUYzNzNEOEU5MjdDMjdBMzYwRUNGNzA0M0MwMUFEQTU1RUFCMDRCRDMxRDdEMEMyQkVGRkYxOTk1OEJEKSkoKDB4MkExQzUwMkJCNEQ4QzUxMEEyMTc2REUwNDlCNkI1MUI0MTlEODgzRjkyNDdBNDk1QTcxMjBBQkI5MzQ4QkRCMCkoMHgzNzFEQ0FEMTcyRDQ5N0IxQjcxQkY5MDkyQzU4Nzg0RTAyOUY0MUYyRUZDNkM1OUQ1NkMzMjYwOEJFNjE0RDkyKSkoKDB4MzgyMkVCQzA3RDk5NzlEOUI5MTc1NUI4QjM4ODEyNUY2QkIzMkU1MjUxREU4NTY5OEZFODdBRDFEQjNEMEY4NSkoMHgwRDEwRTU4Rjg0NDFDOEE1QzYwQTA2OEJGQjY3OTY5MzEwN0IyNkQ0MzI2MzUxMjZCQUNFMDBENDM0OTM0MUQxKSkoKDB4MTAxMzkxMTdGQjI0RUJBOTIyQ0JGMzA2M0Q3RDczMzVBNjYzMjYzQzBCQjJGNzc2NUNDMzMwNDVBNTZEQkQyMSkoMHgxNTgxQUU1OUQwOEMzNjI2RTk1REU4NjBDMEVGN0U4QjU0RUY4OUM3NzUwMTBENDYwNDFDMDVBNjMwN0RDRkI4KSkoKDB4Mzg0QzdBOEIwRDU4QkVEOTQzODRBMjNFREI5RkVCRUU1OUE3RkJDNEUyRDRFODIwQUM3ODZDQTE4MDdGREY0OCkoMHgxMTI4RTdERjZDMzUzRjcwQjMxRkM0QkJDRUQyQTg2NEUyQzE5MUM1RkU4QUJFRjFGQzAzQzFEOTM2QjhDRUE2KSkoKDB4M0E1NTAyRjI0QjU0RUEyMzJGNUFEMzdCRkVCOTAwMjA5MTdFQjJGREM0QjUxMzk1MjAzN0I5QTUwRDg2QzI5RikoMHgzOERGOEU2Q0YzRkYxM0NENDA3NzVDMjUyREE0QkZGNjAyRUM5MTM5NTY0MjNENTNCNEVCQjdCRjAyOTVGQzM4KSkoKDB4M0YzQ0ZEQUU3NEM0RkFCNEY3RUZFMzJGNDNFQjRCNEI5NENBRUQ0NkU2RTY1RUFEMTU5RUExQjlEQjg4NTM5MykoMHgzRjUxQ0U4NEE5MTE1MDk4MTRGQjU0RjkzMzk5MUQ3M0M5OUUzMDMwMDQ4QjZCMjNBRkM0MUM1RjgzQ0QwMEJGKSkoKDB4M0E1QjA5NUE0Nzc1OEU0N0I4RTI4NTA5MTI5NTQwRkQ0NzEzRDhDNkIzQjAwMjU3RTU4MzcwQzBCM0ZFNjg5RikoMHgxNjVDOTAwMEI2RDBCOTM2OTQ5OTFEOERFQ0JDNzIyN0U4NzdBNjlFMDA0Q0Q5QzU4RjEyQjJDOUM0RUJGQjdBKSkoKDB4MkZBRDAxQjg5RjE2OEVCRENDNkRGMTk4RTkwRDU0RUUzOTZCMkRFNDNBNDA0MzI0MDBDM0NDQThFRURENkI4NykoMHgzQ0NFNkVEMTlGODRBMTQwRDUzNDY3NzI3OTJDREE3Mjc3Mjc1QzQwRTA1NTdFMDM5Nzc2M0M4MEM1ODA5MDg5KSkpKSh6KCgweDM3MjIxOTJDNzZBNDE2QkU0NzA5Q0ZDOTE5M0RCNzMyMUEwMzhEMjY5Qzc4RjA2Qjk0Mjg3OTdCRDM0NjA2MUEpKDB4MENDQ0Y1ODU4QTI3QTEzNjFCOENCRDE0MTc2QzA5QTc5REJCMjI2N0IyMzQxREU4ODE2NzE1MDgzNzQ2MTQyQykpKShzKCgoMHgwQ0E5RUU3MjUyOTg4NDVCOEYxNDBCOTA5MUY3MkUwQzNFNjlFQUU4NEFFQzkxRjkxNTE0RjY2RDI0RDQzQTI1KSgweDMwNjQzMDAwQjkwMThFMTg5REJGMUFGMjY3MEZCQjkxMTA2RDc2RDAzMjZCRkRBNUQyNUQ5OTJCRThDM0QwNzIpKSgoMHgyMEVCMjExRDVGMERDOTM5MDNDQjJBQzU2NzcxM0I5MDdCMDIyN0M1NzkyODYzMDdDNEUyQzA5QTZCMDI4NTA0KSgweDFDRjVGNDc1NjI5NTAzRDIzMTUzRDJBMkQ3RDE1RjgxODFENTI0M0I2Q0ZEMjI2Njk5MEJEMjk2NDZBQ0UzMzIpKSgoMHgwNUJDMkU0QzMyODE0RUFBOTc1NUI0MDJEMkU2NUZFMzJGOTQyQjhENEQxOTdCMTQwRUU0RDQ5MUE0MTU3OTIzKSgweDBDNzM1RjIwOUI2NDc0ODdGNzhGOUFBQ0NENjg1MkVFNEQ2NTU0ODc4ODMwMDgzRTkwQjIxQzQ5OTk3OTU5RUYpKSgoMHgwMzE1MzgyNzZEQUE1MzAwMzVBQUI0MDYzMkFCOTRGNjY1MUE1NzMzREJFRDE4Q0Q3RTRDOUJEOThEN0JEMEE2KSgweDA0OENGRUI2MUUxQzc3NjkwNTJDQzMwRTQ2ODk5RDNBOURDODRGOUI0OUQ4RkE5MDNEQTg3QUI5QTA4RUZBRDApKSgoMHgwMkQyMjlDQTExODg0QzdBQzZFQzU1RUE2Mjk3NUI5REMzQTg3N0NGQjg3NkNBRDZGMjk2NkVDRjc0QkY4RjZFKSgweDIxMjUxRDQxQ0QyOTVFQUU3MjBDOEE0ODVEMzgxMzhFMTU2REE2OTYzNzg1NDBBMzk4QjU4OUJEMzk3NDA3RTIpKSgoMHgwREVCRDM5RjQ0NTdFNjA2NDdEMDk2RjU0NkQ1OTEyMDM1M0M5QzJFMzA5ODQ4OEYzQ0U4NzU5NkY1QTMwRjcxKSgweDEwOUVEOTJDMzQyMjZBQjM2MkRGNUUzRkREMzI1RjA2MDk3NEYwQjcwMUZBMzhBRkZGM0M1M0I3RDRFN0M5MzQpKSkpKGdlbmVyaWNfc2VsZWN0b3IoKDB4MjE0MzQyMENGNUU5Q0ZEQjBBOUVEOEQ1QjZGMTVGQjZFNTY0MjYyOEM1QkFDMzhCNDM0RjUzMTVCOEU4OEZBNykoMHgyQjQ2OUZDQjIyRTlEQTM2NEUwMENBODFFRDMwMUEzQTVDQjdDMjVCQjA5RDNGRTlFQzhFRDcxQzRFMjdENzZEKSkpKHBvc2VpZG9uX3NlbGVjdG9yKCgweDI5NEMwNjdFMEQxRDBERThGNUE0ODZFODUyRjUxMDBCOUU1ODhFRTc5RTg2RTNENzY1ODQ0OTIwNkM0MzJBMkUpKDB4M0QyMEVFMzY5RUI2ODVCMTU2NUI1MjM3RjFCRTcyNDYwQTY3MTNCQTAzREQzODUzNTQxQkVCMEI1REJGRkEwQykpKShsb29rdXAoKSkpKShmdF9ldmFsMSAweDAwMDlEMUQ3QUY5NjQ5QTVFRTEyMjAyMjM2Q0VCM0VCRjgwMjhDQTBCRTFDOEVEQUFFNDdEQjFEMTZENkYxOUQpKSkpKSk="
               )
      in
      let statement =
        let without_sok =
          Quickcheck.random_value ~seed:(`Deterministic "no sok right")
            Transaction_snark.Statement.gen
        in
        { without_sok with sok_digest = Mina_base.Sok_message.digest sok_msg }
      in
      let ledger_proof = Transaction_snark.create ~statement ~proof in
      (ledger_proof, sok_msg)
    in
    Full { left; right; seq_no = 1; status = Todo }
  in
  ((weight1, weight2), job)
*)
let protocol_state =
  let ledger_proof_statement =
    Quickcheck.random_value Mina_state.Snarked_ledger_state.gen
    |> Mina_state.Snarked_ledger_state.to_yojson |> Yojson.Safe.to_string
  in
  (* size is fixed *)
  let json =
    Yojson.Safe.from_string
    @@ sprintf
         {json|
 {
     "previous_state_hash": "3NL5YY6SBChV9bDTFwMegztXPQkT5kKKfKhY61DyYWpFV2fxtNLD",
     "body": {
         "genesis_state_hash": "3NL5YY6SBChV9bDTFwMegztXPQkT5kKKfKhY61DyYWpFV2fxtNLD",
         "blockchain_state": {
             "staged_ledger_hash": {
                 "non_snark": {
                     "ledger_hash": "jxbwsja7766oVsNcZrMetaWSTqK7XBqgrSttaH5H74E5aN9nwsP",
                     "aux_hash": "UjJhe9UvGSgmN4Ckyu83JGeL8dayusEoXquzNqWDAjiubWg8p1",
                     "pending_coinbase_aux": "XH9htC21tQMDKM6hhATkQjecZPRUGpofWATXPkjB5QKxpTBv7H"
                 },
                 "pending_coinbase_hash": "2n1KVFYysZUDR1HDZuyq4YeXPGRY1gpPan8TQGFCxVSPfChDgAJn"
             },
             "genesis_ledger_hash": "jxhv1J2fQRtRiv5cQZJBnS2ncRQznQ4pUfL5MMVBwi3uRAMh34t",
             "ledger_proof_statement": %s, 
             "timestamp": "1668291220375",
             "body_reference": "fff2f336633a60b222c23a2ff28467c7cd72fbc525855c1cbea323ecddf7b29d"
         },
         "consensus_state": {
             "blockchain_length": "2",
             "epoch_count": "0",
             "min_window_density": "6",
             "sub_window_densities": [
                 "1",
                 "0",
                 "0"
             ],
             "last_vrf_output": "AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA=",
             "total_currency": "10016120000000000",
             "curr_global_slot": {
                 "slot_number": "6",
                 "slots_per_epoch": "576"
             },
             "global_slot_since_genesis": "6",
             "staking_epoch_data": {
                 "ledger": {
                     "hash": "jxhv1J2fQRtRiv5cQZJBnS2ncRQznQ4pUfL5MMVBwi3uRAMh34t",
                     "total_currency": "10016100000000000"
                 },
                 "seed": "2va9BGv9JrLTtrzZttiEMDYw1Zj6a6EHzXjmP9evHDTG3oEquURA",
                 "start_checkpoint": "3NK2tkzqqK5spR2sZ7tujjqPksL45M3UUrcA4WhCkeiPtnugyE2x",
                 "lock_checkpoint": "3NK2tkzqqK5spR2sZ7tujjqPksL45M3UUrcA4WhCkeiPtnugyE2x",
                 "epoch_length": "1"
             },
             "next_epoch_data": {
                 "ledger": {
                     "hash": "jxhv1J2fQRtRiv5cQZJBnS2ncRQznQ4pUfL5MMVBwi3uRAMh34t",
                     "total_currency": "10016100000000000"
                 },
                 "seed": "2vbhjwHdFZqQaG1zZVkrnHacQba792hNoPuBd4KLTnMgwCSP5f4d",
                 "start_checkpoint": "3NK2tkzqqK5spR2sZ7tujjqPksL45M3UUrcA4WhCkeiPtnugyE2x",
                 "lock_checkpoint": "3NL5YY6SBChV9bDTFwMegztXPQkT5kKKfKhY61DyYWpFV2fxtNLD",
                 "epoch_length": "3"
             },
             "has_ancestor_in_same_checkpoint_window": true,
             "block_stake_winner": "B62qiy32p8kAKnny8ZFwoMhYpBppM1DWVCqAPBYNcXnsAHhnfAAuXgg",
             "block_creator": "B62qiy32p8kAKnny8ZFwoMhYpBppM1DWVCqAPBYNcXnsAHhnfAAuXgg",
             "coinbase_receiver": "B62qpPjYco6oESJyGjdFNjmBnwEyzsujJ785aMAzygzSF4X9g4g1uEo",
             "supercharge_coinbase": true
         },
         "constants": {
             "k": "24",
             "slots_per_epoch": "576",
             "slots_per_sub_window": "2",
             "delta": "0",
             "genesis_state_timestamp": "1548878400000"
         }
     }
 } |json}
         ledger_proof_statement
  in
  Mina_state.Protocol_state.value_of_yojson json |> Result.ok_or_failwith
(*
let pending_coinbase =
  (* size is fixed, given a particular depth *)
  let depth =
    Genesis_constants.Constraint_constants.compiled.pending_coinbase_depth
  in
  Mina_base.Pending_coinbase.create ~depth () |> Or_error.ok_exn

let staged_ledger_diff =
  (* size varies, depending on number and size of commands *)
  let json =
    Yojson.Safe.from_string
      {json|
  {
      "diff": [
        {
          "completed_works": [],
          "commands": [
            {
              "data": [
                "Signed_command",
                {
                  "payload": {
                    "common": {
                      "fee": "0",
                      "fee_payer_pk": "B62qiy32p8kAKnny8ZFwoMhYpBppM1DWVCqAPBYNcXnsAHhnfAAuXgg",
                      "nonce": "0",
                      "valid_until": "4294967295",
                      "memo": "E4QqiVG8rCzSPqdgMPUP59hA8yMWV6m8YSYGSYBAofr6mLp16UFnM"
                    },
                    "body": [
                      "Payment",
                      {
                        "source_pk": "B62qiy32p8kAKnny8ZFwoMhYpBppM1DWVCqAPBYNcXnsAHhnfAAuXgg",
                        "receiver_pk": "B62qiy32p8kAKnny8ZFwoMhYpBppM1DWVCqAPBYNcXnsAHhnfAAuXgg",
                        "amount": "1000000001"
                      }
                    ]
                  },
                  "signer": "B62qiy32p8kAKnny8ZFwoMhYpBppM1DWVCqAPBYNcXnsAHhnfAAuXgg",
                  "signature": "7mXFbws8zFVHDngRcRgUAs9gvWcJ4ZDmXrjXozyhhNyM1KrR2XsBzSQGDSR4ghD5Dip13iFrnweGKB5mguDmDLhk1h87etB8"
                }
              ],
              "status": [
                "Applied"
              ]
            },
            {
              "data": [
                "Signed_command",
                {
                  "payload": {
                    "common": {
                      "fee": "0",
                      "fee_payer_pk": "B62qrA2eWb592uRLtH5ohzQnx7WTLYp2jGirCw5M7Fb9gTf1RrvTPqX",
                      "nonce": "0",
                      "valid_until": "4294967295",
                      "memo": "E4QqiVG8rCzSPqdgMPUP59hA8yMWV6m8YSYGSYBAofr6mLp16UFnM"
                    },
                    "body": [
                      "Payment",
                      {
                        "source_pk": "B62qrA2eWb592uRLtH5ohzQnx7WTLYp2jGirCw5M7Fb9gTf1RrvTPqX",
                        "receiver_pk": "B62qkYgXYkzT5fuPNhMEHk8ouiThjNNDSTMnpBAuaf6q7pNnCFkUqtz",
                        "amount": "1000000001"
                      }
                    ]
                  },
                  "signer": "B62qrA2eWb592uRLtH5ohzQnx7WTLYp2jGirCw5M7Fb9gTf1RrvTPqX",
                  "signature": "7mXJfHCobCvXcpAZRKgqmnrsewVuEcUaQ2dkjfYuodwqR2bYZUZkmJZmNoTKM9HJ8tV6hW7pRFjL7oeNvzbRiPGt9pyf93hJ"
                }
              ],
              "status": [
                "Applied"
              ]
            },
            {
              "data": [
                "Signed_command",
                {
                  "payload": {
                    "common": {
                      "fee": "0",
                      "fee_payer_pk": "B62qpkCEM5N5ddVsYNbFtwWV4bsT9AwuUJXoehFhHUbYYvZ6j3fXt93",
                      "nonce": "0",
                      "valid_until": "4294967295",
                      "memo": "E4QqiVG8rCzSPqdgMPUP59hA8yMWV6m8YSYGSYBAofr6mLp16UFnM"
                    },
                    "body": [
                      "Payment",
                      {
                        "source_pk": "B62qpkCEM5N5ddVsYNbFtwWV4bsT9AwuUJXoehFhHUbYYvZ6j3fXt93",
                        "receiver_pk": "B62qqR5XfP9CoC5DALUJX2jBoY6aaoLrN46YpM2NQTSV14qgpoWibL7",
                        "amount": "1000000001"
                      }
                    ]
                  },
                  "signer": "B62qpkCEM5N5ddVsYNbFtwWV4bsT9AwuUJXoehFhHUbYYvZ6j3fXt93",
                  "signature": "7mX5n1jgC1m2jhuo7JMks6veDCNofPXZwFeZLv47ok83RVQkftUFKcD35k4RTo2v7fyroQjB9LSRJHm3S7RQfzesJwJtcFqS"
                }
              ],
              "status": [
                "Applied"
              ]
            },
            {
              "data": [
                "Signed_command",
                {
                  "payload": {
                    "common": {
                      "fee": "0",
                      "fee_payer_pk": "B62qp5sdhH48MurWgtHNkXUTphEmUfcKVmZFspYAqxcKZ7YxaPF1pyF",
                      "nonce": "0",
                      "valid_until": "4294967295",
                      "memo": "E4QqiVG8rCzSPqdgMPUP59hA8yMWV6m8YSYGSYBAofr6mLp16UFnM"
                    },
                    "body": [
                      "Payment",
                      {
                        "source_pk": "B62qp5sdhH48MurWgtHNkXUTphEmUfcKVmZFspYAqxcKZ7YxaPF1pyF",
                        "receiver_pk": "B62qji8zLZEuMUpZnRN3FHgsgnybYhhMFBBMcLAwGGLR3hTdfkhmM4X",
                        "amount": "1000000001"
                      }
                    ]
                  },
                  "signer": "B62qp5sdhH48MurWgtHNkXUTphEmUfcKVmZFspYAqxcKZ7YxaPF1pyF",
                  "signature": "7mX2irhVDZy7bbc6K6q21hpQiB3x7LKw9v6jS5tZBzzEdroQFc5hzT1MwgzK2CavFX6ZkAcHYaxKAz8qwAdruerR7mbFLKa6"
                }
              ],
              "status": [
                "Applied"
              ]
            },
            {
              "data": [
                "Signed_command",
                {
                  "payload": {
                    "common": {
                      "fee": "0",
                      "fee_payer_pk": "B62qqR5XfP9CoC5DALUJX2jBoY6aaoLrN46YpM2NQTSV14qgpoWibL7",
                      "nonce": "0",
                      "valid_until": "4294967295",
                      "memo": "E4QqiVG8rCzSPqdgMPUP59hA8yMWV6m8YSYGSYBAofr6mLp16UFnM"
                    },
                    "body": [
                      "Payment",
                      {
                        "source_pk": "B62qqR5XfP9CoC5DALUJX2jBoY6aaoLrN46YpM2NQTSV14qgpoWibL7",
                        "receiver_pk": "B62qqMGFkBEtgGs2Gi6AWd1Abn9yzXdj5HRMzm95uwbJ8Wa88C7urCD",
                        "amount": "1000000001"
                      }
                    ]
                  },
                  "signer": "B62qqR5XfP9CoC5DALUJX2jBoY6aaoLrN46YpM2NQTSV14qgpoWibL7",
                  "signature": "7mX5N43QQWMjKoXo2bAwPo6jvHNfpVcMse51uy6eXumfWiChmWQb2hejbTn9MaNsYcpNhDpd4oFnsdzqzDveaRuq8xRRJxmK"
                }
              ],
              "status": [
                "Applied"
              ]
            },
            {
              "data": [
                "Signed_command",
                {
                  "payload": {
                    "common": {
                      "fee": "0",
                      "fee_payer_pk": "B62qr4GMdg4ZVk1Y6BXaDHxgFRtCsZm2sZiyn7PCmubTZnAi3iZDDxq",
                      "nonce": "0",
                      "valid_until": "4294967295",
                      "memo": "E4QqiVG8rCzSPqdgMPUP59hA8yMWV6m8YSYGSYBAofr6mLp16UFnM"
                    },
                    "body": [
                      "Payment",
                      {
                        "source_pk": "B62qr4GMdg4ZVk1Y6BXaDHxgFRtCsZm2sZiyn7PCmubTZnAi3iZDDxq",
                        "receiver_pk": "B62qpaA93gHfmvNoH9DLGgxreGnijhh5aui4duxiV3foX4p5ay5RNis",
                        "amount": "1000000001"
                      }
                    ]
                  },
                  "signer": "B62qr4GMdg4ZVk1Y6BXaDHxgFRtCsZm2sZiyn7PCmubTZnAi3iZDDxq",
                  "signature": "7mXFA6dbZCNV7bowrxiWK5zCST3YurHRNiC6m7n39jUgu6jC7VMV3g9xLEP8sraVfoUHhsfaMyYgdXAXmYEgU3WJwdZdqe8Q"
                }
              ],
              "status": [
                "Applied"
              ]
            },
            {
              "data": [
                "Signed_command",
                {
                  "payload": {
                    "common": {
                      "fee": "0",
                      "fee_payer_pk": "B62qpgjtMzVpodthL3kMfXAAzzv1kgGZRMEeLv592u4hSVQKCzTGLvA",
                      "nonce": "0",
                      "valid_until": "4294967295",
                      "memo": "E4QqiVG8rCzSPqdgMPUP59hA8yMWV6m8YSYGSYBAofr6mLp16UFnM"
                    },
                    "body": [
                      "Payment",
                      {
                        "source_pk": "B62qpgjtMzVpodthL3kMfXAAzzv1kgGZRMEeLv592u4hSVQKCzTGLvA",
                        "receiver_pk": "B62qpkCEM5N5ddVsYNbFtwWV4bsT9AwuUJXoehFhHUbYYvZ6j3fXt93",
                        "amount": "1000000001"
                      }
                    ]
                  },
                  "signer": "B62qpgjtMzVpodthL3kMfXAAzzv1kgGZRMEeLv592u4hSVQKCzTGLvA",
                  "signature": "7mX4KgEbFoWZjtNn4ihvSpVaEKGMUVXWVAJuvyrPWWst1miV7eBXLnhRc1V5RfCJ2bvLDrTdCqEhJmaUJMwdTgCF7rFGYcFY"
                }
              ],
              "status": [
                "Applied"
              ]
            }
          ],
          "coinbase": [
            "One",
            null
          ],
          "internal_command_statuses": [
            [
              "Applied"
            ]
          ]
        },
        null
      ]
    }
      |json}
  in
  Staged_ledger_diff.of_yojson json |> Result.ok_or_failwith

let merkle_path =
  (* size is constant for a given length, assuming each hash is distinct *)
  let ledger_depth =
    Genesis_constants.Constraint_constants.compiled.ledger_depth
  in
  let hashes =
    Quickcheck.random_value
    @@ Quickcheck.Generator.list_with_length ledger_depth
         Mina_base.Ledger_hash.gen
  in
  let path : Mina_ledger.Ledger.Db.Path.t =
    List.mapi hashes ~f:(fun n hash ->
        if n % 2 = 0 then `Left hash else `Right hash )
  in
  path
*)

let block_max_apps =
  Protocol_version.(set_current @@ create_exn ~major:1 ~minor:1 ~patch:0) ;
  (* use the protocol state from above *)
  let header =
    Mina_block.Header.create ~protocol_state
      ~protocol_state_proof:Mina_base.Proof.blockchain_dummy
      ~delta_block_chain_proof:(Snark_params.Tick.Field.zero, [])
      ()
  in
  let mk_big_zkapp () : Mina_base.Zkapp_command.t =
    let open Quickcheck in
    let fee_payer : Mina_base.Account_update.Fee_payer.t =
      let body : Mina_base.Account_update.Body.Fee_payer.t =
        let public_key =
          random_value ~seed:`Nondeterministic
            Signature_lib.Public_key.Compressed.gen
        in
        let fee = random_value ~seed:`Nondeterministic Currency.Fee.gen in
        let valid_until =
          Some
            (random_value ~seed:`Nondeterministic Mina_numbers.Global_slot.gen)
        in
        let nonce =
          random_value ~seed:`Nondeterministic Mina_base.Account.Nonce.gen
        in
        { public_key; fee; valid_until; nonce }
      in
      let authorization = Mina_base.Signature.dummy in
      { body; authorization }
    in
    let keypairs =
      List.init 100 ~f:(fun _ -> Signature_lib.Keypair.create ())
    in
    let available_public_keys =
      let module Table = Signature_lib.Public_key.Compressed.Table in
      let tbl = Table.create () in
      List.iter keypairs ~f:(fun kp ->
          let key = Signature_lib.Public_key.compress kp.public_key in
          ignore (Table.add tbl ~key ~data:()) ) ;
      tbl
    in
    let num_account_updates = 5 in
    let account_updates =
      let rec create_update acc n =
        if n <= 0 then acc
        else
          let account_update =
            let authorization : Mina_base.Control.t =
              Proof Mina_base.Proof.transaction_dummy
            in
            let account_ids_seen = Mina_base.Account_id.Hash_set.create () in
            let zkapp_account_ids = [] in
            let account_state_tbl = Mina_base.Account_id.Table.create () in
            (* pack all events, actions into one account update *)
            let num_event_elements =
              if n = num_account_updates then
                Genesis_constants.compiled.max_event_elements
              else 0
            in
            let num_action_elements =
              if n = num_account_updates then
                Genesis_constants.compiled.max_action_elements
              else 0
            in
            let simple_update =
              random_value ~seed:`Nondeterministic
                (Mina_generators.Zkapp_command_generators
                 .gen_account_update_from ~num_event_elements
                   ~num_action_elements ~new_account:true ~authorization
                   ~account_ids_seen ~zkapp_account_ids ~available_public_keys
                   ~account_state_tbl () )
            in
            Mina_base.Account_update.of_simple simple_update
          in
          let acc' =
            Mina_base.Zkapp_command.Call_forest.cons account_update acc
          in
          create_update acc' (n - 1)
      in
      create_update [] num_account_updates
    in
    let memo =
      let open Mina_base.Signed_command_memo in
      let s =
        random_value ~seed:`Nondeterministic
          (String.gen_with_length max_input_length Char.gen_alphanum)
      in
      create_from_string_exn s
    in
    { fee_payer; account_updates; memo }
  in
  let pre_diff_two_coinbases :
      Staged_ledger_diff.Pre_diff_with_at_most_two_coinbase.t =
    let zkapp_commands =
      let num_commands =
        Int.pow 2
          Genesis_constants.Constraint_constants.compiled
            .transaction_capacity_log_2
        - 2
      in
      List.init num_commands ~f:(fun _ -> mk_big_zkapp ())
    in
    List.iter zkapp_commands ~f:(fun zkapp ->
        let result =
          Mina_base.Zkapp_command.valid_size
            ~genesis_constants:Genesis_constants.compiled zkapp
        in
        match result with
        | Ok () ->
            ()
        | Error err ->
            failwithf "zkApp size check failed: %s" (Error.to_string_hum err) () ) ;
    let commands =
      List.map zkapp_commands ~f:(fun zkapp ->
          let data = Mina_base.User_command.Zkapp_command zkapp in
          (* make status kinda big *)
          let status =
            Mina_base.Transaction_status.Failed
              (List.init 5 ~f:(fun _ ->
                   let open Mina_base.Transaction_status.Failure in
                   [ Receiver_not_present
                   ; Amount_insufficient_to_create_account
                   ; Cannot_pay_creation_fee_in_token
                   ; Source_insufficient_balance
                   ; Source_minimum_balance_violation
                   ; Receiver_already_exists
                   ; Token_owner_not_caller
                   ; Overflow
                   ] ) )
          in
          ({ data; status } : _ Mina_base.With_status.t) )
    in
    let completed_works = [] in
    let coinbase =
      let cbs_gen =
        let open Quickcheck.Generator.Let_syntax in
        let%bind cb1 =
          Mina_base.Coinbase.Fee_transfer.Gen.gen Currency.Fee.zero
        in
        let%map cb2 =
          Mina_base.Coinbase.Fee_transfer.Gen.gen Currency.Fee.one
        in
        (cb1, cb2)
      in
      let cb1, cb2 = Quickcheck.random_value cbs_gen in
      Staged_ledger_diff.At_most_two.Two (Some (cb1, Some cb2))
    in
    let internal_command_statuses =
      let open Mina_base.Transaction_status in
      [ Applied; Applied ]
    in
    { completed_works; commands; coinbase; internal_command_statuses }
  in
  ()
(* in
     let pre_diff_one_coinbase :
         Staged_ledger_diff.Pre_diff_with_at_most_one_coinbase.t =
       Obj.magic 42
     in
     let diff = (pre_diff_two_coinbases, Some pre_diff_one_coinbase) in
     Staged_ledger_diff.Body.create { diff }
   in
     Mina_block.create ~header ~body *)
